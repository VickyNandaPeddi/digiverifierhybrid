<div class="pageHeader">
  <div class="container"></div>
</div>
<div class="container">
  <div class="card stat_cards">
    <div class="row" style="margin: 0 25px;">
      <div class="col-xl-4 border-right">
        <div class="card-body">
          <div class="row">
            <div class="col-md-12 mt-3">
              <p>
                <span>{{ candidateName }} | {{ appId }}</span>
              </p>
              <button type="button" class="sm-button btn-primary"
                    (click)="addReferenceData(tempReferenceData,candidateCode)">
                    Add Reference Data
                  </button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-8">
        <form [formGroup]="vendorlist">
          <div class="card-body">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label *ngIf="!vendoruser" for="" class="required">Check Name</label>
                  <h6>{{ vendoruser }}</h6>
                  <select *ngIf="!vendoruser" class="form-control form-control-sm" #b (change)="getsourceid(b.value)"
                    formControlName="sourceId"  [ngStyle]="{
                      'background-color': hideAddCheckAndVendorTableAndInterimReportButton ? 'lightgray' : '', 
                      'cursor': hideAddCheckAndVendorTableAndInterimReportButton ? 'not-allowed' : ''
                    }">
                    <!-- <option [value]="null">--Select--</option> -->
                    <option [disabled]="hideAddCheckAndVendorTableAndInterimReportButton" *ngFor="let item of getbgv" [value]="item.sourceId">{{ item.sourceName }}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label *ngIf="!vendoruser" for="" class="required">Vendor</label>
                  <h6>{{ vendoruser }}</h6>
                  <select *ngIf="!vendoruser"  class="form-control form-control-sm" #b (change)="getvendorid(b.value)"
                    formControlName="vendorId" [ngStyle]="{
                      'background-color': hideAddCheckAndVendorTableAndInterimReportButton ? 'lightgray' : '', 
                      'cursor': hideAddCheckAndVendorTableAndInterimReportButton ? 'not-allowed' : ''
                    }">
                    <!-- <option [value]="null">--Select--</option> -->
                    <option [disabled]="hideAddCheckAndVendorTableAndInterimReportButton" [value]="null">NA</option>
                    <option [disabled]="hideAddCheckAndVendorTableAndInterimReportButton"  *ngFor="let item of getVendorID" [value]="item.userId">
                      {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-md-3 mt-4">
                <div class="form-group">
                  <button type="button" class="ms-button btn-primary" #b (change)="getsourceid(b.value)"
                    (click)="opentemplate(tempmodal)"
                    [disabled]="!vendorlist.controls['sourceId'].value || !vendorlist.controls['vendorId'].value || hideAddCheckAndVendorTableAndInterimReportButton"
                    [ngStyle]="{
                      'background-color': hideAddCheckAndVendorTableAndInterimReportButton ? 'gray' : '', 
                      'border-color': hideAddCheckAndVendorTableAndInterimReportButton ? 'gray' : '',
                      'cursor':hideAddCheckAndVendorTableAndInterimReportButton ? 'not-allowed' : ''
                    }">
                    Add Checks
                  </button>
                </div>
              </div>

              <!--  -->
              <div class="col-md-3 mt-4">
                <div class="form-group">
                  <button type="button" (click)="downloadAllDocument()" class="ms-button btn-primary">Download All
                    Document</button>
                </div>
              </div>
              <!--  -->

            </div>
          </div>
        </form>
      </div>
      <!-- <div class="col-md-12 mt-4 mb-4 text-center">
           
        <button type="button"   class="btn btn-sm btn-primary">Download All Document</button>
       
      </div> -->
    </div>
  </div>
</div>
<span class="line-break"></span>
<form [formGroup]="formReportApproval">

  <div class="container">
    <div class="card">
      <div class="card-body">
        <div class="col-md-12">
          <div class="table-container">
            <table class="styled-table">
              <thead>
                <tr>
                  <th scope="col">S. No</th>
                  <!-- <th scope="col">Vendor Name</th> -->
                  <th scope="col">Check Name</th>
                  <!-- <th scope="col">Document Name</th>
                <th scope="col">Initiated On</th> -->
                  <th scope="col">Details</th>
                  <th scope="col">Check Status</th>
                  <th scope="col">Action</th>
                  <th scope="col">Stop Check</th>
                  <th scope="col">Document Download</th>
                  <th scope="col">Approval <input type="checkbox" [checked]="checkBoxDisable" [disabled]="checkBoxDisable" (click)="selectAll2($event)"></th>
                  <!-- <th scope="col">Stop Check Initiated on</th>
                <th scope="col">Raise Insufficiency</th> -->
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of vendorchecksupload; let i = index" [class.stop-check]="item.stopCheck"
                  [style.background-color]="item.stopCheck ? '#D3D3D3' : 'white'">
                  <td>{{ i + 1 }}</td>
                  <!-- <td>{{ item.vendorIds.userFirstName
                  ? item.vendorIds.userFirstName : 'NA' }}</td> -->
                  <td>{{ item.source.sourceName }} - {{item.type}}</td>
                  <!-- <td>{{ item.documentname }}</td>
                <td>{{ item.createdOn | date: 'dd-MMM-yyyy'}}</td>
                <td>{{ item.vendorCheckStatusMaster?.checkStatusName || '' }}</td> -->
                  <!-- <td>{{item.details}}</td> -->
                  <td>{{ item.details ? item.details : '-' }}
                    <!-- <button type="button" (click)="downloadPreApprovalReport(item)" class="btn btn-sm btn-primary" title="View E-Court Report">
                    <i class="fas fa-eye" style="font-size: 12px !important; color: white !important;"></i>
                  </button> -->
                  </td>
                  <td>{{ (item.vendorCheckStatusMaster?.checkStatusName === 'In Progress') ? 'New Upload' :
                    (item.vendorCheckStatusMaster?.checkStatusName || '') }}</td>
                  <td>
                    <span>{{ item.vendorIds && item.vendorIds.userFirstName ? item.vendorIds.userFirstName : 'NA'
                      }}</span>
                    <button type="button" [disabled]="item.stopCheck === true || hideAddCheckAndVendorTableAndInterimReportButton || (item.clientApproval == null || item.clientApproval == false)"
                      (click)="updateVendorSelectModal(vendorUpdatemodal, item)" class="btn p-0" [ngStyle]="{'cursor' : hideAddCheckAndVendorTableAndInterimReportButton || (item.clientApproval == null || item.clientApproval == false) ? 'not-allowed':''}">
                      <i class='fas fa-edit' style="color: #0078d4; font-size: 1rem;"></i>
                    </button>
                  </td>
                  <td>
                    <button type="button" class="btn-stopcheck stopCheck"
                      [disabled]="item.vendorCheckStatusMaster?.checkStatusName == 'Clear' || hideAddCheckAndVendorTableAndInterimReportButton || (item.clientApproval == null || item.clientApproval == false)"
                      (click)="toggleState(item)" [ngStyle]="{cursor : hideAddCheckAndVendorTableAndInterimReportButton || (item.clientApproval == null || item.clientApproval == false) ?'not-allowed':''}">{{item.stopCheck ? 'Continue' : 'Stop Check'}}</button>
                  </td>
                  <td style="cursor: pointer; text-decoration: underline; color: blue;" title="Download Document">
                    <a href="javascript:void(0);" style="color: inherit; text-decoration: inherit;"  [ngStyle]="{'cursor' : !hideAddCheckAndVendorTableAndInterimReportButton && (item.clientApproval == null || item.clientApproval == false) ? 'not-allowed':''}"
                    (click)="( !hideAddCheckAndVendorTableAndInterimReportButton && item.clientApproval === null || item.clientApproval === false) ? $event.preventDefault() : (item.stopCheck ? $event.stopPropagation() : (item.documentname ? downloadPdf(item.agentUploadDocumentPathKey, item.documentname, item.source?.sourceName) : null))">
                      {{ item.agentUploadDocumentPathKey ? item.documentname : 'NA' }}
                    </a>
                  </td>
                  <!-- <td>{{ item.stopCheckCreatedOn && item.stopCheck ? (item.stopCheckCreatedOn | date:'dd-MMM-yyyy') : '' }}</td>

              <td>
                  <i class='fas fa-plus' style="color: rgb(240, 8, 8); font-size: 1rem; cursor: pointer;" title="Click to raise insufficiency"
                  (click)="openInsufficiencyModal(insuffmodal,item)"></i>
              </td> -->
                  <!-- *ngIf="item.conventionalCandidate && item.candidateStatusName === 'Conventional QC Pending'" -->
                  <td><input type="checkbox"  id="{{item.vendorcheckId}}" value="{{item.vendorcheckId}}" class="childCheck" (change)="childCheck($event)" [checked]="item.clientApproval" [disabled]="item.clientApproval"></td>
                  <!-- <td>
                    <input 
                      type="checkbox"  
                      id="{{item.vendorcheckId}}" 
                      value="{{item.vendorcheckId}}" 
                      class="childCheck" 
                      (change)="childCheck($event)"
                      [checked]="item.clientApproval" 
                      [disabled]="item.clientApproval"
                      [ngStyle]="getCheckboxStyle(item)">
                  </td> -->
                  
                </tr>

              </tbody>
            </table>
          </div>
          <!-- <div class="col-md-12 mt-4 mb-4 text-center">
 
          <button type="button"  (click)="DocumentApproval()" class="btn btn-primary">Approve Documents</button>
         
        </div> -->

          <form [formGroup]="formClientApprove">
            <input type="hidden" formControlName="vendorCheckId" #vendorCheckId>
            <!-- <input type="hidden" formControlName="statuscode"> -->
            <div class="row">
              <div class="col-md-12 text-center">
                <!-- <button type="submit" *ngIf="stat_btn_ReInvite && !this.getServiceConfigCodes.includes('PANTOUAN')" (click)="reInvite(candidateReferenceNo)" class="btn btn-sm btn-success ">Re-Invite</button> -->
                <button *ngIf="documentApprovalPermission" type="button" (click)="DocumentApproval(vendorCheckId)" [disabled]="tmp.length === 0" class="btn btn-primary">Approve
                  Documents</button>

              </div>
            </div>

          </form>

        </div>
      </div>

    </div>

  </div>

  <div class="container mt-2" *ngIf="!hideAddCheckAndVendorTableAndInterimReportButton">
    <div class="card">
      <div class="card-header py-3 d-flex ">
        <!-- <div class="col-md-5">
          <h6 class="m-0 font-weight-bold text-primary">
              ANNEXURE - Iv
          </h6>
      </div> -->
        <div class="ml-4 col-md-12 text-center">
          <h6 class="m-0 font-weight-bold text-dark">
            Vendor Proofs
          </h6>
        </div>
      </div>
      <div class="card-body">
        <div class="col-md-12">
          <div class="table-container">
            <table class=" table table-bordered mt-2" style="
                                        border-bottom: 1px solid black;">
              <thead style="display: table-row-group;">
                <tr>
                  <th scope="col">SI#</th>
                  <th scope="col">Check Name</th>
                  <th scope="col">Check Status</th>
                  <th scope="col">vendor name</th>
                  <th scope="col">Document Name</th>
                  <th scope="col">Verified Date</th>
                  <th scope="col">View Document</th>
                  <th scope="col">Result</th>
                  <th scope="col">Conventional Qc Pending</th>
                  <!-- <th scope="col">Action</th> -->
                  <th scope="col">QC Agent</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of vendorProof; let i=index;">
                  <td>{{i+1}}</td>
                  <td>{{item.checkType}}</td>
                  <td>{{item.checkStatus}}</td>
                  <td>{{item.userFirstName}}</td>
                  <td>{{item.documentname}}</td>
                  <td>{{item.createdOn | date:'dd-MMM-yyyy'}}</td>
                  <td>
                    <button type="button" class="btn btn-sm btn-primary" title="View Document"
                      (click)="viewDocFromS3(modalCertificate, item.documentPathkey)">
                      <i class="fa fa-eye"></i>
                    </button>

                  </td>
                  <td>
                    <span class=" bg-result" [style.color]="
                                                      item.checkStatus === 'Clear' ? 'green' :
                                                      (item.checkStatus === 'Major Discrepancy' || item.checkStatus === 'Minor Discrepancy' ? 'red' :
                                                      (item.checkStatus === 'Unable To Verify' || item.checkStatus === 'In Sufficiency' ? '#ff9900' : item.colorHexCode))
                                                  ">
                      {{ item.checkStatus === 'Clear' ? 'Green' :
                      (item.checkStatus === 'Major Discrepancy' || item.checkStatus === 'Minor Discrepancy' ? 'Red' :
                      (item.checkStatus === 'Unable To Verify' || item.checkStatus === 'In Sufficiency' ? 'Amber' :
                      item.checkStatus))
                      }}
                    </span>
                  </td>
                  <td>
                    {{ item.conventionalQcPending != null ? item.conventionalQcPending : false }}
                  </td>

                  <!-- <td>
                                                        <span *ngIf="item.agentColor == 'Green'">No Action</span>
                                                        <button *ngIf="item.agentColor !== 'Green'" class="btn btn-warning btn-sm" title="Edit"
                                                        id="edit{{i}}" (click)="openVendorModal(modalVendor, item.vendorChecks)">
                                                            <i class="fas fa-pen"></i>
                                                        </button>
                                                    </td> -->
                  <td>
                    <button class="btn btn-sm btn-info" data-toggle="tooltip" (click)="
                                                            triggerModal(
                                                              modalCandidate,
                                                              item.documentname,
                                                              item.vendorChecks,
                                                              item.source.sourceName,
                                                              item.source.sourceId,
                                                              item.checkType,
                                                              i
                                                            )
                                                          ">
                      Update
                    </button>
                  </td>

                </tr>


              </tbody>
            </table>
          </div>




        </div>
      </div>
    </div>
  </div>

</form>
<div class="col-md-12 mt-4 mb-4 text-center">

  <button *ngIf="!hideAddCheckAndVendorTableAndInterimReportButton" type="button" [disabled]="!vendorProofDetails || conventionalCandidateStatus === 'CONVENTIONALFINALREPORT' || conventionalCandidateStatus === 'CONVENTIONALSUPPLEMENTARYREPORT'"
    (click)="submitReportApproval(formReportApproval, 'CONVENTIONALINTERIM')" class="btn btn-primary">
    Conventional Interim Report</button>

    <!-- <button *ngIf="!hideAddCheckAndVendorTableAndInterimReportButton" type="button" [disabled]="!vendorProofDetails || (!conventionalCandidate && orgName !== 'TECHMAHINDRA LIMITED')"
    (click)="submitReportApproval(formReportApproval, 'CONVENTIONALFINAL')" class="btn btn-primary">
    Conventional Final Report</button> -->
    <button *ngIf="!hideAddCheckAndVendorTableAndInterimReportButton" type="button" [disabled]="!vendorProofDetails || conventionalCandidateStatus === 'CONVENTIONALFINALREPORT' || conventionalCandidateStatus === 'CONVENTIONALSUPPLEMENTARYREPORT'"
    (click)="submitReportApproval(formReportApproval, 'CONVENTIONALFINAL')" class="btn btn-primary">
    Conventional Final Report</button>

    <button *ngIf="!hideAddCheckAndVendorTableAndInterimReportButton" type="button" [disabled]="!vendorProofDetails || (!conventionalCandidate && orgName !== 'TECHMAHINDRA LIMITED')"
    (click)="submitReportApproval(formReportApproval, 'CONVENTIONALSUPPLEMENTARY')" class="btn btn-primary">
    Conventional Supplementary Report</button>
</div>


<!-- Update Vendor -->

<ng-template #modalCertificate let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">View Certificate</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <iframe id="viewcandidateCertificate" style="width: 100%;height: 600px;"></iframe>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #vendorUpdatemodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Choose Vendor To Update</h4>
    <button type="button" class="close" aria-label="Close" (click)="closeStatusModal(modal)">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <form [formGroup]="updateVendorForm" (ngSubmit)="vendorUpdate(updateVendorForm)">
          <h6 class="modal-title"></h6>
          <br />
          <div class="form-group">
            <label class="required">Update the Vendor</label>
            <!-- Add the select dropdown here -->
            <select *ngIf="!vendoruser" class="form-control form-control-sm" #b (change)="getvendorid(b.value)"
              formControlName="vendorId">

              <option [value]="null">NA</option>
              <option *ngFor="let item of getVendorID" [value]="item.userId">
                {{ item.userFirstName }} {{ item.userLastName }} ({{
                item.employeeId
                }})
              </option>
            </select>

            <!-- <select class="form-control form-control-sm" #vendorSelect (change)="getvendorid(vendorSelect.value)">
                    <option [ngValue]="null" disabled>--Select--</option>
                    <option [value]="null">NA</option>
                    <option *ngFor="let item of getVendorID;"
                            [value]="item.userFirstName + item.userLastName + item.userId">
                      {{ item.userFirstName }} {{ item.userLastName }} ({{ item.employeeId }})
                    </option>
                  </select> -->

          </div>
          <div class="text-center mt-3 pb-3">
            <button class="btn btn-primary btn-sm" type="submit" id="updateVendorSubmit">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>
<!-- End of update vendor -->

<!-- ==================== Employement =================-->
<ng-template #tempmodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Status</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form *ngIf="Employments || PhysicalVisit" [formGroup]="foremployements"
      (ngSubmit)="submitEmploye(foremployements)">
      <input type="hidden" />
      <h6 class="modal-title">Employments and Physical Visit Status :</h6>
      <br />
      <div class="row">
        <!-- <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Name</label>
            <input
              type="text"
              formControlName="candidateName"
              class="form-control form-control-sm"
            />
          </div>
        </div> -->
        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Document Name</label>
            <input type="text" formControlName="documentname" class="form-control form-control-sm" />
          </div>
        </div>
        <!-- <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Exit document of the employment</label>
            <input type="file" class="form-control form-control-sm" (change)="uploadGlobalCaseDetails($event)"
              accept=".pdf" formControlName="fileInput" required />
          </div>
        </div> -->

        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>
            <!-- <input
              type="text"
              formControlName="value"
              [(ngModel)]="attribute.value"
              class="form-control form-control-sm"
            /> -->

            <ng-container *ngIf="attribute.label === 'Candidate Name'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" readonly />
            </ng-container>

            <ng-container *ngIf="attribute.label !== 'Candidate Name'">
              <input type="text" formControlName="value" class="form-control form-control-sm"
                [(ngModel)]="attribute.value" />
              <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
            </ng-container>
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>


        <div class="col-md-3">
          <div class="form-group">
            <label for="" class="required">Type</label>
            <!-- <h6>{{ vendoruser }}</h6> -->
            <select class="form-control form-control-sm" formControlName="type">
              <!-- <option value="null">--Select--</option> -->
              <option value="CURRENT EMPLOYER">CURRENT EMPLOYER</option>
              <option value="EMPLOYER 2">EMPLOYER 2</option>
              <option value="5 YEARS">5 YEARS</option>
              <option value="7 YEARS">7 YEARS</option>
              <option value="20 YEARS">20 YEARS</option>


              <!-- <option *ngFor="let item of getVendorID" [value]="item.userId">
                {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
              </option> -->
            </select>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Exit document of the employment</label>
            <input type="file" class="form-control form-control-sm" (change)="uploadGlobalCaseDetails($event)"
              accept=".zip" formControlName="fileInput"/>
            <!-- <ul *ngIf="selectedFiles.length > 0">
              <li *ngFor="let file of selectedFiles">{{ file.name }}</li>
            </ul> -->
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm" [disabled]="foremployements.invalid">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>
    <!--======================== Education ==================== -->
    <form *ngIf="education" [formGroup]="formEditEdu" (ngSubmit)="submitEditEdu(formEditEdu)">
      <input type="hidden" />
      <h5 class="modal-title">Education Status :</h5>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Document Name</label>
            <input type="text" formControlName="documentname" class="form-control form-control-sm" />
            <span *ngIf="formEditEdu.get('documentname')?.value === ''" style="color: red;">{{ showMessage }}</span>

          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Upload Document</label>
            <input type="file" class="form-control form-control-sm" (change)="uploadGlobalCaseDetails($event)"
              accept=".pdf" formControlName="fileInput" required />
            <span *ngIf="formEditEdu.get('fileInput')?.value === ''" style="color: red;">{{ showMessage }}</span>

          </div>
        </div>
        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>

            <!-- <input
              type="text"
              formControlName="value"
              [(ngModel)]="attribute.value"
              class="form-control form-control-sm"
            /> -->

            <ng-container *ngIf="attribute.label === 'Candidate Name'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" readonly />
            </ng-container>

            <ng-container *ngIf="attribute.label !== 'Candidate Name'">
              <input type="text" formControlName="value" class="form-control form-control-sm"
                [(ngModel)]="attribute.value" required />
            </ng-container>
            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>

        <div class="col-md-3">
          <div class="form-group">
            <label for="" class="required">Type</label>
            <!-- <h6>{{ vendoruser }}</h6> -->
            <select class="form-control form-control-sm" formControlName="type">
              <!-- <option value="null">--Select--</option> -->
              <option value="UG">UG</option>
              <option value="PG">PG</option>
              <option value="DIPLOMA">DIPLOMA</option>
              <option value="10TH">10TH</option>

              <!-- <option *ngFor="let item of getVendorID" [value]="item.userId">
                {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
              </option> -->
            </select>
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>
    <!-- ==== crimnal =====GlobalDatabasecheck========AddressStatus=======CreditCheck ======= referenceCheck====gapJustificationCheck******************************************** -->
    <form *ngIf="crimnal || GlobalDatabasecheck || creditCheck || referenceCheck || gapJustificationCheck || loaCheck" [formGroup]="forAddressCrimnalGlobal"
      (ngSubmit)="submitAgentAttributes(forAddressCrimnalGlobal)">
      <input type="hidden" />
      <div class="row">
        <!-- <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Name</label>
            <input
              type="text"
              formControlName="candidateName"
              class="form-control form-control-sm"
            />
          </div>
        </div> -->
        <!-- <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Date of Birth</label>
            <input
              type="text"
              formControlName="dateOfBirth"
              class="form-control form-control-sm"
            />
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Contact Number</label>
            <input
              type="text"
              formControlName="contactNo"
              class="form-control form-control-sm"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Father Name</label>
            <input
              type="text"
              formControlName="fatherName"
              class="form-control form-control-sm"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Address</label>
            <input
              type="text"
              formControlName="address"
              class="form-control form-control-sm"
            />
          </div>
        </div> -->

        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>

            <!-- <input
              type="text"
              formControlName="value"
              [(ngModel)]="attribute.value"
              class="form-control form-control-sm"
              required
            /> -->
            <ng-container *ngIf="attribute.label === 'Candidate Name'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" readonly />
            </ng-container>

            <ng-container *ngIf="attribute.label.includes('Father')">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="fatherName" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Date of birth'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="dateOfBirth" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Address'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="address" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Gender'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" formControlName="gender"
                [(ngModel)]="attribute.value" />
            </ng-container>


            <ng-container
              *ngIf="attribute.label !== 'Candidate Name' && attribute.label !== 'Father\'s name'  && attribute.label !== 'Date of birth' && attribute.label !== 'Address' && attribute.label !== 'Gender' ">
              <input type="text" formControlName="value" class="form-control form-control-sm"
                [(ngModel)]="attribute.value" required />
            </ng-container>


            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>

        <input *ngIf="GlobalDatabasecheck || creditCheck || referenceCheck || gapJustificationCheck || loaCheck" type="hidden" name="" id="" formControlName="type"
          [(ngModel)]="globalCheckDefaultType">

        <div class="col-md-3" *ngIf="!GlobalDatabasecheck && !creditCheck && !referenceCheck && !gapJustificationCheck && !loaCheck">
          <div class="form-group">
            <label for="" class="required">Type</label>
            <!-- <h6>{{ vendoruser }}</h6> -->
            <select class="form-control form-control-sm" formControlName="type">
              <!-- <option value="null">--Select--</option> -->
              <option value="Present">Present</option>
              <option value="Permanent">Permanent</option>
              <option value="Present & Permanent">Present & Permanent</option>

              <!-- <option *ngFor="let item of getVendorID" [value]="item.userId">
         {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
       </option> -->
            </select>
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm"
            [disabled]="forAddressCrimnalGlobal.invalid">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>


    <!-- Address Check -->

    <form *ngIf="Address" [formGroup]="formAddressCheck" (ngSubmit)="submitForAddressCheck(formAddressCheck)">
      <input type="hidden" />
      <div class="row">
        <!-- <div class="col-md-6">
                <div class="form-group">
                  <label for="" class="required">Name</label>
                  <input
                    type="text"
                    formControlName="candidateName"
                    class="form-control form-control-sm"
                  />
                </div>
              </div> -->
        <!-- <div class="col-md-6">
                <div class="form-group">
                  <label for="" class="required">Date of Birth</label>
                  <input
                    type="text"
                    formControlName="dateOfBirth"
                    class="form-control form-control-sm"
                  />
                </div>
              </div>
      
              <div class="col-md-6">
                <div class="form-group">
                  <label for="" class="required">Contact Number</label>
                  <input
                    type="text"
                    formControlName="contactNo"
                    class="form-control form-control-sm"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="" class="required">Father Name</label>
                  <input
                    type="text"
                    formControlName="fatherName"
                    class="form-control form-control-sm"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="" class="required">Address</label>
                  <input
                    type="text"
                    formControlName="address"
                    class="form-control form-control-sm"
                  />
                </div>
              </div> -->

        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>
            <!-- <label for="" class="required">{{ attribute.value }}</label> -->

            <!-- <input
                    type="text"
                    [formControlName]="attribute.value"
                    value="{{attribute.value}}"
                    class="form-control form-control-sm"
                    required
                  /> -->
            <!-- [(ngModel)]="attribute.value" -->
            <!-- (input)="updateAttributeValue($event)" -->

            <!-- If the label is 'Candidate Name', render a read-only input -->
            <ng-container *ngIf="attribute.label === 'Candidate Name'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" readonly />
            </ng-container>

            <ng-container *ngIf="attribute.label !== 'Candidate Name'">
              <input type="text" formControlName="value" class="form-control form-control-sm"
                [(ngModel)]="attribute.value" />
            </ng-container>

            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>

        <div class="col-md-3">
          <div class="form-group">
            <label for="" class="required">Type</label>
            <!-- <h6>{{ vendoruser }}</h6> -->
            <select class="form-control form-control-sm" formControlName="type">
              <!-- <option value="null">--Select--</option> -->
              <option value="Present">Present</option>
              <option value="Permanent">Permanent</option>
              <option value="Present & Permanent">Present & Permanent</option>

              <!-- <option *ngFor="let item of getVendorID" [value]="item.userId">
                      {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
                    </option> -->
            </select>
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm" [disabled]="formAddressCheck.invalid">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>



    <!-- ========================= Drugtest ============================-->
    <form *ngIf="DrugTest" [formGroup]="forDrugTest" (ngSubmit)="submitDrugTest(forDrugTest)">
      <input type="hidden" />
      <h5 class="modal-title">DrugTest Status :</h5>
      <div class="row">
        <!-- <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Name</label>
              <input
                type="text"
                formControlName="candidateName"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Contact Number</label>
              <input
                type="text"
                formControlName="contactNo"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Alternate Contact Number</label>
              <input
                type="text"
                formControlName="alternateContactNo"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Date of Birth</label>
              <input
                type="text"
                formControlName="dateOfBirth"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Type of Panel</label>
              <input
                type="text"
                formControlName="typeOfPanel"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Father name</label>
              <input
                type="text"
                formControlName="fatherName"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Address</label>
              <input
                type="text"
                formControlName="address"
                class="form-control form-control-sm"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="" class="required">Document Name</label>
              <input
                type="text"
                formControlName="documentname"
                class="form-control form-control-sm"
              />
            </div>
          </div> -->
        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>
            <ng-container *ngIf="attribute.label === 'Candidate Name'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" readonly />
            </ng-container>

            <ng-container *ngIf="attribute.label.includes('Father')">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="fatherName" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Date of birth'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="dateOfBirth" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Address'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm"
                formControlName="address" [(ngModel)]="attribute.value" />
            </ng-container>

            <ng-container *ngIf="attribute.label === 'Gender'">
              <input type="text" [value]="attribute.value" class="form-control form-control-sm" formControlName="gender"
                [(ngModel)]="attribute.value" />
            </ng-container>


            <ng-container
              *ngIf="attribute.label !== 'Candidate Name' && attribute.label !== 'Father\'s name'  && attribute.label !== 'Date of birth' && attribute.label !== 'Address' && attribute.label !== 'Gender' ">
              <input type="text" formControlName="value" class="form-control form-control-sm"
                [(ngModel)]="attribute.value" required />
            </ng-container>

            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>
        <!-- <div class="col-md-12">
            <div class="form-group">
              <label for="" class="required">Verified report</label>
              <input
                type="file"
                class="form-control form-control-sm"
                (change)="uploadGlobalCaseDetails($event)"
                accept=".pdf"
                formControlName="fileInput"
                required
              />
            </div>
          </div> -->

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>


      </div>
      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm" [disabled]="forDrugTest.invalid">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>


    <!-- ================IDItems verify -->
    <form *ngIf="IDItems" [formGroup]="identityCheckForm" (ngSubmit)="submitIdentityCheck(identityCheckForm)">
      <input type="hidden" />
      <h5 class="modal-title text-center mb-3">{{checkName}}</h5>
      <hr>
      <div class="row">
        <!-- <div class="col-md-6">
        <div class="form-group">
          <label for="" class="required">Name</label>
          <input
            type="text"
            formControlName="candidateName"
            class="form-control form-control-sm"
          />
        </div>
      </div> -->
        <!-- <div class="col-md-6">
        <div class="form-group">
          <label for="" class="required">Document Name</label>
          <input
            type="text"
            formControlName="documentname"
            class="form-control form-control-sm"
          />
        </div>
      </div> -->
        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>
            <input type="text" formControlName="value" [(ngModel)]="attribute.value" [value]="attribute.value"
              class="form-control form-control-sm" />
            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Document Upload</label>
            <input type="file" class="form-control form-control-sm" (change)="uploadGlobalCaseDetails($event)"
              accept=".pdf" />
          </div>
        </div>

        <div class="col-md-3">
          <div class="form-group">
            <label for="" class="required">Type</label>
            <!-- <h6>{{ vendoruser }}</h6> -->
            <select class="form-control form-control-sm" formControlName="type">
              <!-- <option value="null">--Select--</option> -->
              <option value="PAN">PAN</option>
              <option value="Aadhar">Aadhar</option>
              <option value="Passport">Passport</option>

              <!-- <option *ngFor="let item of getVendorID" [value]="item.userId">
              {{ item.userFirstName }} {{ item.userLastName }} ({{item.employeeId}})
            </option> -->
            </select>
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>


    <!-- ================PassPort verify
    <form *ngIf="IDItems" [formGroup]="formpassport" (ngSubmit)="submitpassport(formpassport)">
      <input type="hidden" />
      <h5 class="modal-title">PassPort Status :</h5>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Name</label>
            <input type="text" formControlName="candidateName" class="form-control form-control-sm" />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="" class="required">Document Name</label>
            <input type="text" formControlName="documentname" class="form-control form-control-sm" />
          </div>
        </div>
        <div *ngFor="let attribute of agentAttributeListForm" class="col-md-6">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>
            <input type="text" formControlName="value" [(ngModel)]="attribute.value"
              class="form-control form-control-sm" />
            <span *ngIf="attribute.value === null" style="color: red;">{{showMessage}}</span>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Passport scanned copy</label>
            <input type="file" class="form-control form-control-sm" (change)="uploadGlobalCaseDetails($event)"
              accept=".pdf" />
          </div>
        </div>

        <div class="col-md-12" *ngIf="vendorlist.controls['vendorId'].value == 'null'">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <select class="form-control" formControlName="vendorCheckStatusMasterId">
              <option [ngValue]="null" disabled>--Select--</option>
              <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId">
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm">Submit</button>
          <button type="button" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form> -->
  </div>
</ng-template>



<ng-template #insuffmodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Status</h4>
    <button type="button" class="close" aria-label="Close" (click)="closeStatusModal(modal)">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <h6 class="modal-title"></h6>
      <br />
      <div class="row">
        <div class="col-md-12">
          <div class="form-group">
            <label class="required">Provide Remarks for Raising Insufficiency</label>
            <input type="text" [(ngModel)]="insuffRemarks" class="form-control form-control-sm">
            <div *ngIf="insuffRemarks  === ''" class="d-block invalid-feedback">
              please provide at least 15 characters
            </div>
          </div>
        </div>
        <div class="col-md-12 text-center mt-3 pb-3">
          <!-- <button [hidden]="inprogressStatus" type="submit" (click)="submitpassport()" class="btn btn-primary btn-sm">
            Submit Passport
          </button> -->

          <button id="raiseinsuffsubmitinprogress" class="btn btn-primary btn-sm"
            [disabled]="!insuffRemarks || insuffRemarks.length < 15" (click)="inSuffRemarksSubmit(insuffRemarks)">
            Raise Insufficiency
          </button>
        </div>
      </div>
    </form>
  </div>
</ng-template>


<!-- Vendor MODAL -->

<ng-template #modalCandidate let-modal>

  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Update</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="vendorProofForm">
      <div class="form-group">
        <!-- <div class="col-md-7">
                        <label> Does Source Exist ?</label>
                        <label *ngFor="let item of getColors">
                            <span class="colorId{{item.colorId}}">
                                <input type="radio" name="sourceVerificationColorId" (change)="getcolor($event)" [value]="item.colorId">
                                {{ item.colorName }}
                            </span>
                        </label>
                    </div> -->
        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="">Document Name</label>
            <input type="text" class="form-control form-control-sm" formControlName="documentname" />
          </div>
        </div>
        <!-- <div class="row">
          <div class="col-md-8">
            <input
              type="file"
              class="form-control-file form-control"
              (change)="uploadGlobalCaseDetails2($event)"
              accept=".pdf, image/*"
            />
          </div>
          <div id="preview-container" class="col-md-2">
            <button id="preview-button" class="btn btn-primary" disabled>Preview</button>
          </div>
        </div> -->
      </div>

      <div class="col-md-12" *ngIf="idItemsCheckType && candidateDetails.candidate.organization.organizationName == 'TECHMAHINDRA LIMITED'">
       
        <div class="form-group" *ngIf="!idItemsPassportCheck">
          <label for="" class="">{{idItemsPanORAadharORPassport}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'nameAsPerProof'" />
        </div>

        <div class="form-group" *ngIf="!idItemsPassportCheck">
          <label for="" class="">{{idItemsPanORAadharORPassportRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'nameAsPerProofRemarks'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsProofName}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'proof'" />
        </div>

        <div class="form-group" *ngIf="!idItemsPassportCheck">
          <label for="" class="">{{idItemsProofRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'proofRemarks'" />
        </div>

        <!-- <div class="form-group" *ngIf="!idItemsPassportCheck">
          <label for="" class="">{{idItemsProofRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'proofRemarks'" />
        </div> -->
        

        <div class="form-group">
          <label for="" class="">{{idItemsDateOfBirth}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfBirth'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsDateOfBirthRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfBirthRemarks'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsModeOfVerification}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'modeOfVerification'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsVerifiedDate}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'verifiedDate'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsAdditionalComments}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'additionalComments'" />
        </div>

        <div class="form-group">
          <label for="" class="">{{idItemsAnnexureDetails}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'annexureDetails'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsDateOfIssue}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfIssue'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsDateOfIssueRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfIssueRemarks'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsDateOfExpiry}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'placeOfIssue'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsPlaceOfIssueRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'placeOfIssueRemarks'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsPlaceOfIssue}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfExpiry'" />
        </div>

        <div class="form-group" *ngIf="idItemsPassportCheck">
          <label for="" class="">{{idItemsDateOfExpiryRemarks}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfExpiryRemarks'" />
        </div>

      </div>

      <div *ngIf="idItemsCheckType && candidateDetails.candidate.organization.organizationName != 'TECHMAHINDRA LIMITED'">
      <div class="col-md-12" *ngIf="idItemsCheckType">
        <div class="form-group">
          <label for="" class="">{{idItemsPanORAadharORPassport}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'nameAsPerProof'" />
        </div>
      </div>

      <div class="col-md-12" *ngIf="idItemsCheckType">
        <div class="form-group">
          <label for="" class="">{{idItemsProofName}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'proofName'" />
        </div>
      </div>

      <div class="col-md-12" *ngIf="idItemsCheckType">
        <div class="form-group">
          <label for="" class="">{{idItemsDateOfBirth}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'dateOfBirth'" />
        </div>
      </div>

      <div class="col-md-12" *ngIf="idItemsCheckType">
        <div class="form-group">
          <label for="" class="">{{idItemsFatherName}}</label>
          <input type="text" class="form-control form-control-sm" [formControlName]="'fatherName'" />
        </div>
      </div>

    </div>

      <div *ngIf="!globaldataBaseCheck && !idItemsCheckType">

        <div *ngFor="let attribute of venderAttributeValue" class="col-md-12">
          <div class="form-group">
            <label for="" class="required">{{ attribute.label }}</label>

            <input type="text" formControlName="value" [(ngModel)]="attribute.value"
              class="form-control form-control-sm" />
            <!-- <span *ngIf="attribute.value === null" style="color: red;">{{showMessage}}</span> -->
            <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
          </div>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-group">
          <label for="" class="">Remarks</label>
          <input type="text" class="form-control form-control-sm" formControlName="remarks" value="" />
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-group">
          <label for="" class="required">Vendor Checks Status</label>
          <input type="text" value="{{ checkStatus }}" class="form-control" readonly />
          <select class="form-control" formControlName="vendorCheckStatusMasterId" required>
            <!-- <option [ngValue]="null" disabled>--Select--</option> -->
            <option *ngFor="let item of getVenorcheckStatus" (change)="getvendorcheckstatuss($event)"
              [value]="item.vendorCheckStatusMasterId">
              <div>{{ item.checkStatusName }}</div>
            </option>
          </select>
        </div>
      </div>

      <div class="col-md-12" *ngIf="drugCheck">
        <div class="form-group">
          <label for="" class="required">Drug Test Panel</label>
          <select class="form-control form-control-sm" formControlName="type" (change)="onPanelChange($event)">
            <!-- <option value="null">--Select--</option> -->
            <option value="Panel 5">Panel 5</option>
            <option value="Panel 6">Panel 6</option>
            <option value="Panel 7">Panel 7</option>
            <option value="Panel 8">Panel 8</option>
            <option value="Panel 9">Panel 9</option>
            <option value="Panel 10">Panel 10</option>
            <option value="Panel 11">Panel 11</option>
            <option value="Panel 12">Panel 12</option>
          </select>
        </div>
      </div>

      <!-- Drug Check -->
      <div class="col-md-12" *ngIf="selectedLabels">
        <div class="form-group" *ngFor="let label of selectedLabels; let i=index">
          <label for="">{{ label.label }}</label>
          <input type="text" class="form-control" name="{{ label.label }}" [value]="label.value"
            (input)="updateLabelValue($event, label)" required>
        </div>
      </div>
      <!-- Drug Check END -->

      <!-- CRIMINAL START HERE -->

      <ng-template [ngIf]="isVendorAttributeForm && selectedStatus !== '3' && globaldataBaseCheck===false">
        <!-- Legal Proceedings Form -->
        <div formGroupName="legalProcedings" style="width: -webkit-fill-available;">
          <!-- Civil Proceedings -->
          <div formArrayName="civilProceedingsList">
            <div *ngFor="let civil of civilProceedingsList; let i = index" [formGroupName]="i">
              <!-- Your civil proceeding form controls go here -->
              <div class="container my-4">
                <div class="row">
                  <div class="col-md-12 text-center">
                    <b class="font-weight-bold text-primary">Civil Proceedings - <span> {{ i === 0 ? 'High Court' :
                        i === 1 ? 'Civil Court' : '' }}</span></b>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label>Date of Search</label>
                      <input type="date" class="form-control form-control-sm" formControlName="dateOfSearch">
                    </div>
                  </div>
                  <!-- <div class="col-md-6 mx-auto"> -->
                  <!-- <div class="form-group"> -->
                  <!-- <label>Court</label> -->
                  <!-- <select class="form-control form-control-sm" formControlName="court">
              <option value="">- Select Court-</option>
              <option value="Civil Court">Civil Court</option>
              <option value="High Court">High Court</option>

            </select> -->
                  <!-- </div> -->
                  <!-- </div> -->
                  <!-- <div class="col-md-6 mx-auto"> -->
                  <!-- <div class="form-group"> -->
                  <!-- <label>Jurisdiction</label> -->
                  <input type="hidden" class="form-control form-control-sm" formControlName="court">

                  <input type="hidden" class="form-control form-control-sm" formControlName="jurisdiction">
                  <!-- </div> -->
                  <!-- </div> -->
                  <!-- <div class="col-md-6 mx-auto"> -->
                  <!-- <div class="form-group"> -->
                  <!-- <label>Name of the Court</label> -->
                  <input type="hidden" class="form-control form-control-sm" formControlName="nameOfTheCourt">
                  <!-- </div> -->
                  <!-- </div> -->
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label>Result</label>
                      <input type="text" class="form-control form-control-sm" formControlName="result">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Add button to add new civil proceeding -->
          <!-- <button type="button" (click)="addCivilProceeding()" [disabled]="civilProceedingsCount >= 2" >Add Civil Proceeding</button> -->

          <div formArrayName="criminalProceedingsList">
            <div *ngFor="let civil of criminalProceedingsList; let i = index" [formGroupName]="i">

              <div class="container my-4">
                <div class="row">
                  <div class="col-md-12 text-center">
                    <b class="font-weight-bold text-primary">Criminal Proceedings - <span>{{ i === 0 ? 'Session
                        Court' : i === 1 ? 'Magistrate Court' : '' }}</span></b>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label>Date of Search</label>
                      <input type="date" class="form-control form-control-sm" formControlName="dateOfSearch">
                    </div>
                  </div>
                  <input type="hidden" class="form-control form-control-sm" formControlName="court">
                  <input type="hidden" class="form-control form-control-sm" formControlName="jurisdiction">

                  <input type="hidden" class="form-control form-control-sm" formControlName="nameOfTheCourt">

                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label>Result</label>
                      <input type="text" class="form-control form-control-sm" formControlName="result">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- end -->
          </div>
        </div>
        <!-- Legal Proceedings Form ends-->
      </ng-template>

      <!-- END OF CRIMINAL -->



      <div class="container my-4">
        <div *ngIf="globaldataBaseCheck && selectedStatus !== '3'">
          <!--            <div class="tab-container">-->
          <!--              &lt;!&ndash; Global Tab &ndash;&gt;-->
          <!--              <div class="tab" (click)="selectTab('global')" [class.active]="selectedTab === 'global'">-->
          <!--                Global-->
          <!--              </div>-->
          <!--              &lt;!&ndash; Indian Tab &ndash;&gt;-->
          <!--              <div class="tab" (click)="selectTab('indian')" [class.active]="selectedTab === 'indian'">-->
          <!--                Indian-->
          <!--              </div>-->
          <!--            </div>-->
          <!--            <ng-container *ngIf="selectedTab === 'global'">-->
          <!-- <div class="row"> -->
          <!--              <div class="tab" (click)="selectTab('global')" [class.active]="selectedTab === 'global'">&ndash;&gt;-->
          <div class="row">
            <div class="col-md-12 text-center">
              <b class="font-weight-bold text-primary">India Level Database Search</b>
            </div>
          </div>
          <div class="row my-4">
            <div class="col-md-8  mx-auto">
              <select class="form-control form-control-sm" #seleGlobalattr>
                <option *ngFor="let attribute of globalAttributeValue" [value]="attribute.label"
                  [disabled]="isOptionSelectedGlobal(attribute.label)">
                  {{ attribute.label }}
                </option>
              </select>
            </div>
            <div class="col-md-4 mx-auto">
              <button [disabled]="this.disableGlobalOptionButton" class="btn btn-primary btn-sm"
                (click)="addSelectedGlobalAttribute(seleGlobalattr.value)">Add Indian Attribute
              </button>
            </div>
          </div>

          <div *ngIf="showGlobalCheck">
            <div *ngFor="let attribute of selectedGlobalAttributeValue; let i = index;">
              <div class="row">
                <div class="col-md-6 mx-auto">
                  <div class="form-group">
                    <label class="required">{{ attribute.label }}</label>
                  </div>
                </div>
                <div class="col-md-6 mx-auto">
                  <input type="text" #gloval class="form-control form-control-sm" [(ngModel)]="attribute.value"
                    (keyup)="onKeyUpGlobal(gloval.value, attribute.label)">
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="row" *ngIf="selectedGlobalAttributeValue.length > 0">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label class="required">{{ selectedGlobalAttributeValue[0].label }}</label>
                    </div>
                  </div>
                  <div class="col-md-6 mx-auto">
                    <input type="text" #gloval class="form-control form-control-sm" [(ngModel)]="selectedGlobalAttributeValue[0].value" (keyup)="onKeyUpGlobal(gloval.value, selectedGlobalAttributeValue[0].label)">
                  </div>
                </div> -->

          <!-- <div class="row" *ngFor="let attribute of selectedGlobalAttributeValue; let i = index;">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label class="required">{{ attribute.label }}</label>
                    </div>
                  </div>
                  <div class="col-md-6 mx-auto">
                    <input type="text" #gloval class="form-control form-control-sm" [(ngModel)]="selectedGlobalAttributeValue[i].value" (keyup)="onKeyUpGlobal(gloval.value, attribute.label)">
                  </div>
                </div> -->

          <!--            </ng-container>-->
          <!--            <ng-container *ngIf="selectedTab === 'indian'">-->

          <!--              <div class="tab" (click)="selectTab('indian')" [class.active]="selectedTab === 'indian'">-->
          <div class="row my-4">
            <div class="col-md-12 text-center">
              <b class="font-weight-bold text-primary">Global Level Database Search</b>
            </div>
          </div>
          <div class="row my-4">
            <div class="col-md-8  mx-auto">
              <select class="form-control form-control-sm" #seleattrIndian>
                <option *ngFor="let attribute of indiaAttributeValue" [value]="attribute.label"
                  [disabled]="isOptionSelectedIndian(attribute.label)">
                  {{ attribute.label}}
                </option>
              </select>
            </div>
            <div class="col-md-4 mx-auto">
              <button [disabled]="this.disableIndianOptionButton" class="btn btn-primary btn-sm"
                (click)="addSelectedIndianAttribute(seleattrIndian.value)">Add Global Attribute
              </button>
            </div>
          </div>

          <div *ngIf="showGlobalCheck">
            <div *ngFor="let attribute of selectedIndiaAttributeValue; let i = index;">
              <div class="row">
                <div class="col-md-6 mx-auto">
                  <div class="form-group">
                    <label class="required">{{ attribute.label }}</label>
                  </div>
                </div>
                <div class="col-md-6 mx-auto">
                  <input type="text" #indian class="form-control form-control-sm" [(ngModel)]="attribute.value"
                    (keyup)="onKeyUpIndian(indian.value, attribute.label)">
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="row" *ngIf="selectedIndiaAttributeValue.length > 0">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label class="required">{{ selectedIndiaAttributeValue[0].label }}</label>
                    </div>
                  </div>
                  <div class="col-md-6 mx-auto">
                    <input type="text" #indian class="form-control form-control-sm" [(ngModel)]="selectedIndiaAttributeValue[0].value" (keyup)="onKeyUpIndian(indian.value, selectedIndiaAttributeValue[0].label)">
                  </div>
                </div> -->

          <!-- <div class="row" *ngFor="let attribute of selectedIndiaAttributeValue; let i = index;">
                  <div class="col-md-6 mx-auto">
                    <div class="form-group">
                      <label class="required">{{ attribute.label }}</label>
                    </div>
                  </div>
                  <div class="col-md-6 mx-auto">
                    <input type="text" #indian class="form-control form-control-sm" [(ngModel)]="selectedIndiaAttributeValue[i].value" (keyup)="onKeyUpIndian(indian.value, attribute.label)">
                  </div>
                </div> -->


          <!-- </div> -->
          <!--            </ng-container>-->
        </div>
      </div>



      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="button" [disabled]="vendorProofForm.invalid" (click)="onSubmit(vendorProofForm)"
            class="btn btn-success btn-sm">
            Submit
          </button>
          <button type="button" (click)="modal.dismiss('Cross click')" class="btn btn-danger btn-sm">Close</button>
        </div>
      </div>
    </form>
  </div>
</ng-template>




<ng-template #tempReferenceData let-modal>

  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Reference Data</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
      <form [formGroup]="referenceData">
          <div class="row ">
              <!-- <div class="col-md-12">
                  <div class="form-group">
                      <label for="" class="required">Candidate Name</label> -->
                      <!-- <input type="text" class="form-control form-control-sm" id="" formControlName="candidateCode"> -->
                  <!-- </div>
              </div> -->
              <div class="col-md-6">
                <div class="form-group">
                    <label for="" class="required">Date Of Birth</label>
                    <input type="date" class="form-control form-control-sm" id="" formControlName="dateOfBirth">
                </div>
            </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="required">Date Of Joining</label>
                      <input type="date" class="form-control form-control-sm" id="" formControlName="dateOfJoining">
                  </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="required">Fresher/Lateral</label>
                      <input type="text" class="form-control form-control-sm" id="" formControlName="fresher">
                  </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="">CEA Initiation Date</label>
                      <input type="date" class="form-control form-control-sm" id="" formControlName="ceaInitiationDate">
                  </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="">CE Insufficiency Clearance Date</label>
                      <input type="date" class="form-control form-control-sm" id="" formControlName="ceInsufficiency">
                 </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="">Re Initiation Date</label>
                      <input type="date" class="form-control form-control-sm" id="" formControlName="reInitiationDate">
                  </div>
              </div>
              <!-- <div class="col-md-6">
                  <div class="form-group">
                      <label for="" class="required">Supplementary Date</label>
                      <input type="date" class="form-control form-control-sm" id="" formControlName="supplementaryDate">
                  </div>
              </div> -->
              <!-- <div class="col-md-6">
                <div class="form-group">
                    <label for="" class="required">Supplementary Report SLA</label>
                    <input type="text" class="form-control form-control-sm" id="" formControlName="supplementaryReportSLA">
                </div>
            </div> -->
          </div>
          <div class="row">
              <div class="col-md-12 text-center mt-3 pb-3">
                  <!-- <button type="button" (click)="initiatevendor()" class="btn btn-primary btn-sm">Initiate vendor checks</button> -->
                  <button type="button" (click)="onSubmitReferenceData(referenceData)" class="btn btn-primary btn-sm">Submit</button>
                  <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
              </div>
          </div>
      </form>
  </div>

</ng-template>
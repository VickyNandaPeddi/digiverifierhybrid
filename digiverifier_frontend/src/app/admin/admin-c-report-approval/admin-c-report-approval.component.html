<div class="pageHeader">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <h2 class="pageTitle">{{ pageTitle }}</h2>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <form [formGroup]="formReportApproval">

    <div class="row" style="margin: 0 25px;">
        <div [ngClass]="{
            'col-xl-6': orgName != null && orgName !== 'CAPGEMINI TECHNOLOGY SERVICES INDIA LIMITED',
            'col-xl-3': orgName != null && orgName === 'CAPGEMINI TECHNOLOGY SERVICES INDIA LIMITED'
          }">
            <div class="card shadow mb-4 stat_cards">
                <!-- Card Header -->

                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <p>
                                <i class="fas fa-user"></i>
                                <span style="padding: 12px 0 0 0;">{{ candidateName }}/{{ appId }}
                                    <button type="button" (click)="openResume(modalResume)" *ngIf="this.candidateResume != null"
                                    class="btn btn-danger float-right" style="margin-left: 30px;" title="View Uploaded Resume">
                                        <i class="fa fa-file-pdf" aria-hidden="true"></i>
                                    </button>
                                    <!-- <div style="float: right;">
                                        <strong>Status:</strong>
                                        <span class=" bg-result" [style.color]="reportStatusHexCode">{{ reportStatus }}</span>
                                        <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                                (click)="openReportStatusModal(modalReportStatus)">
                                                <i class="fas fa-edit"></i>
                                        </button>
                                    </div> -->
                                </span>

                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3">

            <div class="card stat_cards">

                <div class="card-body">

                    <div class="row">

                        <div class="col-md-12">

                            <p style="text-align: center;font-weight: bold;">

                                Verification Status

                                <span class="text-center bg-result" style="font-size: 15px; margin-left: 40px" [style.color]="reportStatusHexCode">{{ reportStatus }}

                                <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm float-right" title="Edit"

                                        (click)="openReportStatusModal(modalReportStatus)">

                                        <i class="fas fa-edit"></i>

                                </button>

                                </span>

                            </p>

                        </div>

                    </div>

                </div>

            </div>

        </div>
        <div class="col-xl-3" *ngIf="this.getServiceConfigCodes.includes('ITR') || this.getServiceConfigCodes.includes('DIGILOCKER')">
            <div class="card stat_cards">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <p>
                                <i class="fas fa-address-card"></i>
                                <span class="text-center">{{panNumber == null ? 'Not Available': panNumber}}</span>
                                <b>PAN</b>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="col-xl-3" *ngIf="!this.getServiceConfigCodes.includes('ITR') && !this.getServiceConfigCodes.includes('DIGILOCKER')"> -->
        <div class="col-xl-3" *ngIf="orgName == 'CAPGEMINI TECHNOLOGY SERVICES INDIA LIMITED'">
            <div class="form-group">
                <div class="card stat_cards">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">
                                <label style="text-align: center;" class="mb-1 font-weight-bold" for="caseReinitiationDate">Case Reinitiation Date</label>
                                <div class="input-group ml-3">
                                    <input type="date" name="caseReinitiationDate" formControlName="caseReinitiationDate" #inputDate (click)="fetchjoinDateSelected()" >
                                    <button type="button" class="btn btn-success btn-sm ml-2" (click)="submitDate(inputDate.value)">
                                    Add Date</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-12">
            <div class="card shadow mb-4" *ngIf="this.getServiceConfigCodes.includes('DIGILOCKER')">
                <!-- Card Header -->
                <div
                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">
                        Education Details
                    </h6>
                    <button type="button" class="btn btn-sm btn-success float-right" (click)="openAddEducationModal(modalEducation)">
                        Add Education Details</button>
                </div>
                    <!-- <button  type="button" class="btn btn-primary" (click)="openaddEmploymentModal">Add Employment details</button> -->
                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>SI#</th>
                                        <th>Degree</th>
                                        <th>College</th>
                                        <th>University/Board</th>
                                        <th>Year of Passing</th>
                                        <th>% or CGPA</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                        <th>Remarks</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of candidateEduData; let i=index;">
                                        <td>{{i+1}}</td>
                                        <td>{{item.qualificationName}}</td>
                                        <td>{{item.schoolOrCollegeName}}</td>
                                        <td>{{item.boardOrUniversityName}}</td>
                                        <td>{{item.yearOfPassing}}</td>
                                        <td>{{item.percentage}}</td>
                                        <td><span class=" bg-result" [style.color]="item.colorColorHexCode">{{ item.colorColorName }}</span></td>
                                        <td class="btngroup">
                                            <!-- <span *ngIf="item.colorColorName == 'Green'">No Action</span> -->
                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                            id="edit{{i}}" (click)="openEducationModal(modalEducation, item.candidateCafEducationId,
                                            item.qualificationId,item.qualificationName,item.schoolOrCollegeName,
                                                                item.boardOrUniversityName,item.yearOfPassing,item.percentage, item.colorColorCode, item.customRemark)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button *ngIf="item.colorColorName !== 'Green'" type="button" (click)="inactiveCustEducation(item.candidateCafEducationId)" class="btn btn-danger btn-sm" title="delete" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                        </td>
                                        <td>{{item.customRemark == null?'Not Available' : item.customRemark}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card shadow mb-4" *ngIf="!isFresher && (this.getServiceConfigCodes.includes('ITR') || this.getServiceConfigCodes.includes('EPFO'))">
                <!-- Card Header -->
                <div
                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">

                    <h6 class="m-0 font-weight-bold text-primary" *ngIf="!splitEmployment">
                        Employment Details
                    </h6>
                    <h6 class="m-0 font-weight-bold text-primary" *ngIf="splitEmployment">
                        Employment Details From EPFO/ITR
                    </h6>

                    <button type="button" class="btn btn-sm btn-success float-right" (click)="openAddExperienceModal(modalExperience)">
                        Add Employment Details</button>

                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                            <div class="col-md-6 mb-1">
                                <h6>PAN : <span class="text-primary"> {{panNumber}}</span></h6>
                            </div>
                            <div class="col-md-6 text-right mb-1">
                                <h6 *ngIf="candidateUan != ''">UAN : <span class="text-primary"> {{candidateUan}}</span></h6>
                            </div>
                        <div class="col-md-12">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>SI#</th>
                                        <th>Company Name</th>
                                        <th>DOJ</th>
                                        <th>DOE</th>
                                        <th>Result</th>
                                        <th>Action</th>
                                        <th *ngIf="!this.getServiceConfigCodes.includes('SECONDARY_SOURCE_DNHDB')">Remarks</th>
                                        <th *ngIf="this.getServiceConfigCodes.includes('SECONDARY_SOURCE_DNHDB')">Source</th>                                    </tr>
                                </thead>
                                <tbody *ngIf="!splitEmployment">
                                    <tr *ngFor="let item of candidateEXPData; let i=index;">
                                        <td>{{ i+1 }}</td>
                                        <td>{{ item.candidateEmployerName }}</td>
                                        <td>{{ item.inputDateOfJoining }}</td>
                                        <td>{{ i==0 && item.inputDateOfExit == null?'Not-Available': item.inputDateOfExit}}</td>
                                        <td>
                                            <span class=" bg-result" [style.color]="item.colorColorHexCode">{{ item.colorColorName }}</span>

                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit" style="float: right;"
                                            id="edit{{i}}" (click)="openExperienceResultModal(modalEmploymentResult, item.candidateCafExperienceId, item.colorColorCode)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                        <!-- <td>
                                            <div class="col-md-10" [style.color]="item.colorColorHexCode">
                                                <select class="form-control form-control-sm" [style.color]="item.colorColorHexCode" [value]="3">
                                                    <option [ngValue]="null" disabled>--Select--</option>
                                                    <option *ngFor="let color of getAllColor" [value]="color.colorId" >{{ color.colorName }}</option>
                                                </select>
                                            </div>
                                        </td> -->
                                        <td>
                                            <!-- <span *ngIf="item.colorColorName == 'Green'">No Action</span> -->
                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                            id="edit{{i}}" (click)="openExperienceModal(modalExperience, item.candidateCafExperienceId,
                                            item.candidateEmployerName, item.inputDateOfJoining, item.inputDateOfExit, item.colorColorCode, item.customRemark, item.undisclosed,
                                            item.outputDateOfExit, item.customRemark)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button type="button" (click)="inactiveCust(item.candidateCafExperienceId)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                        </td>
                                        <td *ngIf="!this.getServiceConfigCodes.includes('SECONDARY_SOURCE_DNHDB')">{{item.customRemark == null?'Not Available' : item.customRemark}}</td>
                                        <td *ngIf="this.getServiceConfigCodes.includes('SECONDARY_SOURCE_DNHDB')">
                                            {{ (item.secondaryServiceName == null ? '' : item.secondaryServiceName) +
                                            (item.serviceName == null ? '' : item.secondaryServiceName == null ? item.serviceName : ', ' + item.serviceName) }}
                                        </td>
                                    </tr>
                                </tbody>

                                <tbody *ngIf="splitEmployment">
                                    <tr *ngFor="let item of candidateEXPDataFromITRAndEPFO; let i=index;">
                                        <td>{{ i+1 }}</td>
                                        <td>{{ item.candidateEmployerName }}</td>
                                        <td>{{ item.inputDateOfJoining }}</td>
                                        <td>{{ i==0 && item.inputDateOfExit == null?'Not-Available': item.inputDateOfExit}}</td>
                                        <td>
                                            <span class=" bg-result" [style.color]="item.colorColorHexCode">{{ item.colorColorName }}</span>

                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit" style="float: right;"
                                            id="edit{{i}}" (click)="openExperienceResultModal(modalEmploymentResult, item.candidateCafExperienceId, item.colorColorCode)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                        <!-- <td>
                                            <div class="col-md-10" [style.color]="item.colorColorHexCode">
                                                <select class="form-control form-control-sm" [style.color]="item.colorColorHexCode" [value]="3">
                                                    <option [ngValue]="null" disabled>--Select--</option>
                                                    <option *ngFor="let color of getAllColor" [value]="color.colorId" >{{ color.colorName }}</option>
                                                </select>
                                            </div>
                                        </td> -->
                                        <td>
                                            <!-- <span *ngIf="item.colorColorName == 'Green'">No Action</span> -->
                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                            id="edit{{i}}" (click)="openExperienceModal(modalExperience, item.candidateCafExperienceId,
                                            item.candidateEmployerName, item.inputDateOfJoining, item.inputDateOfExit, item.colorColorCode, item.customRemark, item.undisclosed,
                                            item.outputDateOfExit, item.customRemark)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button type="button" (click)="inactiveCust(item.candidateCafExperienceId)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                        </td>
                                        <td>{{ item.customRemark == null?'Not Available' : item.customRemark}}</td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
            </div>

            <div class="card shadow mb-4" *ngIf="splitEmployment">
                <!-- Card Header -->
                <div
                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">
                        Employment Details From Resume
                    </h6>
                    <button type="button" class="btn btn-sm btn-success float-right" (click)="openAddExperienceModal(modalExperience)">
                        Add Employment Details</button>

                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                            <div class="col-md-6 mb-1">
                                <h6>PAN : <span class="text-primary"> {{panNumber}}</span></h6>
                            </div>
                            <div class="col-md-6 text-right mb-1">
                                <h6 *ngIf="candidateUan != ''">UAN : <span class="text-primary"> {{candidateUan}}</span></h6>
                            </div>
                        <div class="col-md-12">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>SI#</th>
                                        <th>Company Name</th>
                                        <th>DOJ</th>
                                        <th>DOE</th>
                                        <th>Result</th>
                                        <th>Action</th>
                                        <th>Remarks</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of candidateEXPDataFromResume; let i=index;">
                                        <td>{{ i+1 }}</td>
                                        <td>{{ item.candidateEmployerName }}</td>
                                        <td>{{ item.inputDateOfJoining }}</td>
                                        <td>{{ i==0 && item.inputDateOfExit == null?'Not-Available': item.inputDateOfExit}}</td>
                                        <td>
                                            <span class=" bg-result" [style.color]="item.colorColorHexCode">{{ item.colorColorName }}</span>

                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit" style="float: right;"
                                            id="edit{{i}}" (click)="openExperienceResultModal(modalEmploymentResult, item.candidateCafExperienceId, item.colorColorCode)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                        <!-- <td>
                                            <div class="col-md-10" [style.color]="item.colorColorHexCode">
                                                <select class="form-control form-control-sm" [style.color]="item.colorColorHexCode" [value]="3">
                                                    <option [ngValue]="null" disabled>--Select--</option>
                                                    <option *ngFor="let color of getAllColor" [value]="color.colorId" >{{ color.colorName }}</option>
                                                </select>
                                            </div>
                                        </td> -->
                                        <td>
                                            <!-- <span *ngIf="item.colorColorName == 'Green'">No Action</span> -->
                                            <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                            id="edit{{i}}" (click)="openExperienceModal(modalExperience, item.candidateCafExperienceId,
                                            item.candidateEmployerName, item.inputDateOfJoining, item.inputDateOfExit, item.colorColorCode, item.customRemark, item.undisclosed,
                                            item.outputDateOfExit, item.customRemark)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button type="button" (click)="inactiveCust(item.candidateCafExperienceId)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                        </td>
                                        <td>{{ item.customRemark == null?'Not Available' : item.customRemark}}</td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
            </div>

            <div class="card shadow mb-4" *ngIf="this.getServiceConfigCodes.includes('ITR') || this.getServiceConfigCodes.includes('DIGILOCKER')">
                <!-- Card Header -->
                <div
                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">
                        Address
                    </h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th rowspan="3">SI#</th>
                                        <th rowspan="3">Name</th>
                                        <th rowspan="3">Address</th>
                                        <th rowspan="3">Source</th>
                                        <th colspan="3" style="text-align: center;"> Address Section
                                        </th>
                                        <th rowspan="2">Status</th>
                                        <th rowspan="2">Action</th>
                                    </tr>
                                    <tr>
                                        <th style="text-align: center;">Communication
                                        </th>
                                        <th style="text-align: center;">Present</th>
                                        <th style="text-align: center;">Permanent </th>
                                    </tr>


                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of candidateAddressData; let i=index;">
                                        <td>{{ i+1 }}</td>
                                        <td>{{ item.name }}
                                            <span *ngIf="item.name == 'LANDLORD'"
                                            (click)="openLandlordAgreement(modalLandlordAgreement,item.addressVerificationCandidateCafRelationshipDocumentUploaded)"
                                            style="display: block;font-weight: 600;cursor: pointer;color: #106aff;font-size: 13px;">
                                                (View Agreement)
                                            </span>
                                        </td>
                                        <td>{{ item.candidateAddress }}</td>
                                        <td>{{ item.serviceName }}</td>
                                        <td>
                                            <!-- <i class="fas customColors customIcon customIcon"></i></td> -->
                                            <i class="fas customColors customIcon customIcon{{ item.isAssetDeliveryAddress }}"></i></td>
                                        <td><i class="fas customColors customIcon customIcon{{ item.isPermanentAddress }}"></i></td>
                                        <td><i class="fas customColors customIcon customIcon{{ item.isPresentAddress }}"></i></td>
                                        <td><span class=" bg-result" [style.color]="item.colorColorHexCode">{{ item.colorColorName }}</span></td>
                                        <td>
                                            <!-- <span *ngIf="item.colorColorName == 'Green'">No Action</span> -->
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            (click)="openModalAddress(modalAddress, item.candidateCafAddressId,item.isAssetDeliveryAddress,
                                            item.isPermanentAddress,item.isPresentAddress, item.colorColorCode, item.customRemark)">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

                        <!-- ANNEXURE – II Starts -->
                        <div class="card shadow mb-2" *ngIf="this.getServiceConfigCodes.includes('EPFO') && !isFresher">
                            <!-- Card Header -->
                            <div
                                class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">
                                    ANNEXURE – II
                                </h6>
                                    <div class="">
                                        <h6 class="m-0 font-weight-bold text-dark">
                                            Output as per EPFO Service History
                                        </h6>
                                    </div>
                                <!-- <button *ngIf="!epfoSkipped && remittanceFound" type="button" class="btn btn-sm btn-success float-right" (click)="getRemittanceRecords()">
                                    Fetch Remittance Proofs</button> -->
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-1">
                                    <h6><span class="text-primary"> </span></h6>
                                </div>
                                <div class="col-md-6 text-right mb-1">
                                    <h6 style="padding-right: 18px; padding-top: 5px;" *ngIf="candidateUan != ''">UAN : <span class="text-primary"> {{candidateUan}}</span></h6>
                                </div>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <!-- <div class="col-md-12 mt-1">
                                            <b>UAN : <span class="text-success">100232287019</span></b>
                                        </div> -->
                                        <p class="text-center text-danger font-bold" *ngIf="epfoSkipped">
                                            <b>EPFO step SKIPPED</b>
                                        </p>
                                        <table class="table table-bordered mt-2" *ngIf="!epfoSkipped">
                                            <thead>
                                                <tr>
                                                    <th rowspan="2">Employer Name</th>
                                                    <th colspan="3" style="text-align: center;">Tenure</th>
                                                </tr>

                                                <tr>
                                                    <th style="text-align: center;"> EPFO DOJ</th>
                                                    <th style="text-align: center;">EPFO LWD</th>
                                                    <th colspan="1" style="text-align: center;" *ngIf="this.getServiceConfigCodes.includes('REMITTANCE')">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                             <!--  <tr *ngFor="let item of candidateEXPData; let i=index;">
                                                    <td *ngIf="item.serviceName == 'EPFO'">{{ item.candidateEmployerName }}</td>
                                                    <td *ngIf="item.serviceName == 'EPFO'">{{ item.outputDateOfJoining }}</td>
                                                    <td *ngIf="item.serviceName == 'EPFO'">{{ i==0 && item.outputDateOfExit == null?'Not-Available': item.outputDateOfExit}}</td>
                                                </tr> -->
                                                <tr *ngFor="let item of candidateEPFOData; let i=index;">
                                                    <td>{{ item.company }}</td>
                                                    <td>{{ item.doj }}</td>
                                                    <td>{{ i==0 && item.doe == null?'Not-Available': item.doe}}</td>
                                                    <td style="width: 20%; text-align: center;" *ngIf="this.getServiceConfigCodes.includes('REMITTANCE')">
                                                        <button type="button" class="btn btn-sm btn-success" (click)="openFetchRemittanceModal(modalRemittance, item.memberId,
                                                        item.company, item.doj, item.doe, item.name, item.uan)">
                                                            Fetch Remittance Proofs</button>
                                                    </td>
                                                </tr>
                                            </tbody>

                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- ANNEXURE – II Ends -->
                        <!-- ANNEXURE – III Start -->
                        <div class="card shadow mb-4" *ngIf="gstFound">
                            <!-- Card Header -->
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">

                                <div class="col-md-5">
                                    <h6 *ngIf="gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE – III
                                    </h6>
                                </div>
                                <div class="ml-4">
                                    <h6 class="m-0 font-weight-bold text-dark">
                                        GST Verification Details
                                    </h6>
                                </div>

                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="row">
                                        <div class="col-md-6 mb-1">
                                            <h6>PAN : <span class="text-primary"> {{panNumber}}</span></h6>
                                        </div>
                                    <div class="col-md-12">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>SI#</th>
                                                    <th>Scope</th>
                                                    <th>Outcome</th>
                                                    <th>Registration Id/Remarks</th>
                                                    <th>Result</th>
                                                    <!-- <th>Action</th>
                                                    <th>Remarks</th> -->
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of candidateUniqueGSTData; let i=index;">
                                                <!-- <tr>     -->
                                                    <td>{{ i+1 }}</td>
                                                    <td>GST</td>
                                                    <td>{{ candidateUniqueGSTData[i].status }}</td>
                                                    <td>{{ candidateUniqueGSTData[i].gstNumber}}</td>
                                                    <td><span class=" bg-result" [style.color]="candidateUniqueGSTData[i].colorHexCode">{{ candidateUniqueGSTData[i].color }}</span></td>
                                                    <!-- <td>
                                                        <button type="button" data-toggle="tooltip" class="btn btn-warning btn-sm" title="Edit"
                                                        id="edit{{i}}" (click)="openExperienceModal(modalExperience, item.candidateCafExperienceId,
                                                        item.candidateEmployerName, item.inputDateOfJoining, item.inputDateOfExit, item.colorColorCode, item.customRemark, item.undisclosed,
                                                        item.outputDateOfExit, item.customRemark)">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button type="button" (click)="inactiveCust(item.candidateCafExperienceId)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                                    </td>
                                                    <td>{{ item.customRemark == null?'Not Available' : item.customRemark}}</td> -->
                                                </tr>
                                            </tbody>
                                        </table>

                                    </div>

                                </div>
                            </div>
                            <div *ngFor="let item of candidateGSTData" style="text-align: center; margin-bottom: 20px;">
                                <div class="row">
                                    <div class="col-md-6 mt-1">
                                        <b>Company: <span class="text-success">{{item.company}}</span></b>
                                    </div>
                                    <div class="col-md-6 mt-1">
                                        <b>pan: <span class="text-success">{{item.panNumber}}</span></b>
                                        <div class="col-md-6 mt-1" style="margin-left: auto;">
                                            <button type="button" (click)="inactiveGST(item.gstId)"
                                            class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                        </div>
                                    </div>
                                    <!-- <div class="col-md-6 mt-1" style="margin-left: auto;">
                                        <button type="button" (click)="inactiveRemittance(item.company,item.memberId,
                                        item.year)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                    </div> -->
                                </div>

                                <img [src]="'data:image/png;base64,' + item.image" alt="Image" style="width: 1000px; height: 400px;">
                            </div>
                        </div>
                        <!-- ANNEXURE – III end -->
                        <!-- ANNEXURE – III  or Iv Start -->
                        <div class="card shadow mb-2" *ngIf="this.getServiceConfigCodes.includes('ITR') && !isFresher">
                            <!-- Card Header -->
                            <div class="card-header py-3 d-flex ">
                                <div class="col-md-5">
                                    <h6 *ngIf="!gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE – III
                                    </h6>

                                    <h6 *ngIf="gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE - Iv
                                    </h6>
                                </div>
                                <div class="ml-4">
                                    <h6 class="m-0 font-weight-bold text-dark">
                                        26AS Statement
                                    </h6>
                                </div>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-12 mt-1">
                                            <b>PAN : <span class="text-success">{{panNumber}}</span></b>
                                        </div>

                                        <table class=" table table-bordered mt-2" style="
                                        border-bottom: 1px solid black;">
                                            <thead style="display: table-row-group;">
                                                <tr>
                                                    <th>SI#</th>
                                                    <th>Financial Year </th>
                                                    <th>TAN</th>
                                                    <th>Deductor</th>
                                                    <th>Section</th>
                                                    <th>Date</th>
                                                    <th>Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of candidateITRData; let i=index;">
                                                    <td>{{ i+1 }}</td>
                                                    <td>{{ item.financialYear }}</td>
                                                    <td>{{ item.tan }}</td>
                                                    <td>{{ item.deductor }}</td>
                                                    <td>{{ item.section }}</td>
                                                    <td>{{ item.date}}</td>
                                                    <td>{{ item.amount }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <!-- ANNEXURE – III End -->
                        <div class="card shadow mb-2" *ngIf="employ">

                            <div class="card-header py-3 d-flex ">
                                <div class="col-md-5">
                                    <h6 class="m-0 font-weight-bold text-primary">
                                        ANNEXURE - Iv
                                    </h6>
                                </div>
                                <div class="ml-4">
                                    <h6 class="m-0 font-weight-bold text-dark">
                                        Vendor Proofs
                                    </h6>
                                </div>
                            </div>

                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">

                                        <table class=" table table-bordered mt-2" style="
                                        border-bottom: 1px solid black;">
                                            <thead style="display: table-row-group;">
                                                <tr>
                                                    <th>SI#</th>
                                                    <th>Check Name</th>
                                                    <th>Check Status</th>
                                                    <th>vendor name</th>
                                                    <th>Document Name</th>
                                                    <th>Verified Date</th>
                                                    <th>View Document</th>
                                                    <th>Result</th>
                                                    <!-- <th>Action</th> -->
                                                  <th>QC Agent</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of employ; let i=index;">
                                                    <td>{{i+1}}</td>
                                                    <td>{{item.checkType}}</td>
                                                    <td>{{item.checkStatus}}</td>
                                                    <td>{{item.userFirstName}}</td>
                                                    <td>{{item.documentname}}</td>
                                                    <td>{{item.createdOn | date:'dd-MMM-yyyy'}}</td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-primary" title="View Document"
                                                        (click)="viewDocFromS3(modalCertificate, item.documentPathkey)">
                                                        <i class="fa fa-eye"></i>
                                                       </button>
                                                        <!-- <span (click)="openModal(modalData)" *ngIf="item.document != null" style="cursor: pointer;color: #0074f1;text-decoration: underline;">
                                                            (View Document)
                                                        </span> -->
                                                    </td>
                                                    <!-- <td><span class=" bg-result" [style.color]="item.colorHexCode">{{ item.agentColor }}</span></td> -->
                                                    <td>
                                                        <span class=" bg-result"
                                                        [style.color]="
                                                        item.checkStatus === 'Clear' ? 'green' :
                                                        (item.checkStatus === 'Major Discrepancy' || item.checkStatus === 'Minor Discrepancy' ? 'red' :
                                                        (item.checkStatus === 'Unable To Verify' || item.checkStatus === 'In Sufficiency' ? '#ff9900' : item.colorHexCode))
                                                    ">
                                                    {{ item.checkStatus === 'Clear' ? 'Green' :
                                                    (item.checkStatus === 'Major Discrepancy' || item.checkStatus === 'Minor Discrepancy' ? 'Red' :
                                                    (item.checkStatus === 'Unable To Verify' || item.checkStatus === 'In Sufficiency' ? 'Amber' : item.checkStatus))
                                                 }}
                                                       </span>
                                                      </td>
                                                    <!-- <td>
                                                        <span *ngIf="item.agentColor == 'Green'">No Action</span>
                                                        <button *ngIf="item.agentColor !== 'Green'" class="btn btn-warning btn-sm" title="Edit"
                                                        id="edit{{i}}" (click)="openVendorModal(modalVendor, item.vendorChecks)">
                                                            <i class="fas fa-pen"></i>
                                                        </button>
                                                    </td> -->
                                                  <td>
                                                        <button
                                                          class="btn btn-sm btn-info"
                                                          data-toggle="tooltip"

                                                          (click)="
                                                            triggerModal(
                                                              modalCandidate,
                                                              item.documentname,
                                                              item.vendorChecks,
                                                              item.source.sourceName,
                                                              item.source.sourceId,
                                                              item.checkType,
                                                              i
                                                            )
                                                          "
                                                        >
                                                          Update
                                                        </button>
                                                      </td>

                                                </tr>


                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- remittance prrofs start -->
                        <div class="card shadow mb-2" *ngIf="!epfoSkipped && remittanceFound">
                            <div class="card-header py-3 d-flex ">
                                <div class="col-md-5">
                                    <h6 *ngIf="!employ && !gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE - Iv
                                    </h6>
                                    <h6 *ngIf="employ || gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE - v
                                    </h6>
                                    <h6 *ngIf="employ && gstFound" class="m-0 font-weight-bold text-primary">
                                        ANNEXURE - vI
                                    </h6>
                                </div>
                                <div class="ml-4">
                                    <h6 class="m-0 font-weight-bold text-dark">
                                        Remittance Proofs
                                    </h6>
                                </div>
                            </div>

                            <div *ngFor="let item of candidateRemittanceData" style="text-align: center; margin-bottom: 20px;">
                                <div class="row">
                                    <div class="col-md-6 mt-1">
                                        <b>Company: <span class="text-success">{{item.company}}/{{item.memberId}}</span></b>
                                    </div>
                                    <div class="col-md-6 mt-1">
                                        <b>Year: <span class="text-success">{{item.year}}</span></b>
                                    </div>
                                    <div class="col-md-6 mt-1" style="margin-left: auto;">
                                        <button type="button" (click)="inactiveRemittance(item.company,item.memberId,
                                        item.year)" class="btn btn-danger btn-sm" data-toggle="tooltip"><i class="fas fa-times"></i></button>
                                    </div>
                                </div>

                                <img [src]="'data:image/png;base64,' + item.image" alt="Image" style="width: 1000px; height: 400px;">
                            </div>
                        </div>
            <!-- start -->
            <div class="card shadow mb-2" *ngIf="this.getServiceConfigCodes.includes('EPFO') || this.getServiceConfigCodes.includes('ITR')">

                <div class="card-header py-3 d-flex ">
                    <div class="col-md-5">
                        <h6 *ngIf="!employ && !remittanceFound && !gstFound"class="m-0 font-weight-bold text-primary">
                            ANNEXURE - Iv
                        </h6>
                        <h6 *ngIf="(!employ && !remittanceFound && gstFound)
                                  || (employ && !remittanceFound && !gstFound)
                                   || (!employ && remittanceFound && !gstFound)"class="m-0 font-weight-bold text-primary">
                            ANNEXURE - v
                        </h6>
                        <h6 *ngIf="employ && remittanceFound"class="m-0 font-weight-bold text-primary">
                            ANNEXURE - vI
                        </h6>
                        <h6 *ngIf="remittanceFound && gstFound"class="m-0 font-weight-bold text-primary">
                            ANNEXURE - vI
                        </h6>
                        <h6 *ngIf="employ && gstFound"class="m-0 font-weight-bold text-primary">
                            ANNEXURE - vI
                        </h6>
                    </div>
                    <div class="ml-4">
                        <h6 *ngIf="!scopeValidation" class="m-0 font-weight-bold text-dark">
                            Organization Scope
                        </h6>
                        <h6 *ngIf="scopeValidation" class="m-0 font-weight-bold text-dark">
                            Remarks
                        </h6>
                    </div>
                </div>
<!--              capg card starts-->
              <div class="card shadow mb-2">
                <!-- <div *ngIf="getServiceConfigCodes.includes('EPFO') && !getServiceConfigCodes.includes('ITR') && !getServiceConfigCodes.includes('DIGILOCKER') && !getServiceConfigCodes.includes('PANTOUAN')" class="card-body"> -->
                <div *ngIf="orgName == 'CAPGEMINI TECHNOLOGY SERVICES INDIA LIMITED' || orgName == 'IBM'" class="card-body">
                    <!-- Table -->
                  <div class="table-responsive" style="max-height: 500px; overflow: scroll;">
                    <table class="table table-bordered">
                      <thead class="thead-light">
                      <tr>
                        <th style="width: 80%;">Remark</th>
                        <th style="width: 20%;" class="text-center">Action</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let remark of qcRemarksList">
                        <td>{{ remark.qcRemarks }}</td>
                        <td class="text-center">
                          <button class="btn btn-warning btn-sm" (click)="openQcRemarksModal(qcremarks, remark.qcRemarks, remark.qcRemarksId)">
                            <i class="fa fa-bars"></i> Edit
                          </button>
                          <button class="btn btn-danger btn-sm" (click)="deleteRemark(remark.qcRemarksId)">
                            <i class="fa fa-times"></i> Delete
                          </button>
                          <!-- <button class="btn btn-secondary btn-sm">
                            <i class="fa fa-bars"></i> Another Action
                          </button> -->
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                  <!-- Footer -->
                  <div class="row mt-3">
                    <div class="col text-right">
                      <button class="btn btn-success" (click)="openQcRemarksModal(qcremarks,'','')">Add remarks</button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- capg card ends -->
                <!-- <div *ngIf="!(getServiceConfigCodes.includes('EPFO') && !getServiceConfigCodes.includes('ITR') && !getServiceConfigCodes.includes('DIGILOCKER') && !getServiceConfigCodes.includes('PANTOUAN'))" class="card-body"> -->
                <div *ngIf="orgName != 'CAPGEMINI TECHNOLOGY SERVICES INDIA LIMITED' && orgName != 'IBM'" class="card-body">  
                    <div class="row">
                        <div class="col-md-12">

                            <table class=" table table-bordered mt-2" style="
                            border-bottom: 1px solid black;">
                                <thead style="display: table-row-group;">
                                    <tr *ngIf="!scopeValidation">
                                        <th colspan="2" style="text-align: center;">Reasons for Red/Amber</th>
                                        <th colspan="1" style="text-align: center;">Results</th>
                                        <th colspan="1" style="text-align: center;">Action</th>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <th colspan="3" style="text-align: center;">Remark</th>
                                        <th colspan="1" style="text-align: center;">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Dual Employment (Moonlighting)</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.dualEmployment}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.dualEmploymentColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.dualEmploymentColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.dualEmploymentColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.dualEmploymentColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.dualEmploymentColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit0" (click)="openOrgScopeModal(modalOrgScope, 'Dual Employment')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Undisclosed</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.undisclosed}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.undisclosedColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.undisclosedColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.undisclosedColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.undisclosedColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.undisclosedColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit1" (click)="openOrgScopeModal(modalOrgScope, 'Undisclosed')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Data Not Found</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.dataNotFound}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.dataNotFoundColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.dataNotFoundColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.dataNotFoundColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.dataNotFoundColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.dataNotFoundColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit2" (click)="openOrgScopeModal(modalOrgScope, 'Data Not Found')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">DNH DB</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.dnhdb}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.dnhdbcolorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.dnhdbcolorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.dnhdbcolorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.dnhdbcolorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.dnhdbcolorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit3" (click)="openOrgScopeModal(modalOrgScope, 'DNH DB')">

                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Tenure Mismatch</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.tenureMismatch}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.tenureMismatchColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.tenureMismatchColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.tenureMismatchColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.tenureMismatchColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.tenureMismatchColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit4" (click)="openOrgScopeModal(modalOrgScope, 'Tenure Mismatch')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Overseas Employment</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.overseasEmployment}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.overseasEmploymentColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.overseasEmploymentColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.overseasEmploymentColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.overseasEmploymentColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.overseasEmploymentColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit5" (click)="openOrgScopeModal(modalOrgScope, 'Overseas Employment')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr  *ngIf="!scopeValidation">
                                        <td style="width: 30%;">Others</td>
                                        <td style="width: 50%; white-space: pre-line;">{{orgScopeData?.others}}</td>
                                        <td style="width: 10%; text-align: center;">
                                            <span *ngIf="orgScopeData?.othersColorId == 1" class=" bg-result"  style="color: #f54242;">Red</span>
                                            <span *ngIf="orgScopeData?.othersColorId == 2" class=" bg-result"  style="color: #ff9900;">Amber</span>
                                            <span *ngIf="orgScopeData?.othersColorId == 3" class=" bg-result"  style="color: #10c315;">Green</span>
                                            <span *ngIf="orgScopeData?.othersColorId == 6" class=" bg-result"  style="color: #800000;">Maroon</span>
                                            <span *ngIf="orgScopeData?.othersColorId == 7" class=" bg-result"  style="color: #FFFF00;">Yelllow</span>
                                        </td>
                                        <td style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit6" (click)="openOrgScopeModal(modalOrgScope, 'Others')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>

                                    <!-- rows for capgemini -->
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.dualEmployment}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit0" (click)="openOrgScopeModal(modalOrgScope, 'Dual Employment')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.undisclosed}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit1" (click)="openOrgScopeModal(modalOrgScope, 'Undisclosed')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.dataNotFound}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit2" (click)="openOrgScopeModal(modalOrgScope, 'Data Not Found')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.dnhdb}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit3" (click)="openOrgScopeModal(modalOrgScope, 'DNH DB')">

                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.tenureMismatch}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit4" (click)="openOrgScopeModal(modalOrgScope, 'Tenure Mismatch')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.overseasEmployment}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit5" (click)="openOrgScopeModal(modalOrgScope, 'Overseas Employment')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="scopeValidation">
                                        <td colspan="3" style="width: 50%; white-space: pre-line;">{{orgScopeData?.others}}</td>
                                        <td colspan="1" style="width: 10%; text-align: center;">
                                            <button class="btn btn-warning btn-sm" title="Edit"
                                            id="edit6" (click)="openOrgScopeModal(modalOrgScope, 'Others')">
                                                <i class="fas fa-pen"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>
            <!-- End -->

            <div class="row">
                <div class="col-md-6" *ngIf="this.getServiceConfigCodes.includes('EPFO')" style="padding-right: 8px;">
                    <div class="card shadow mb-4">
                        <!-- Card Header -->
                        <div
                            class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold text-primary">
                                Upload Resume
                            </h6>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                            <div class="row">
                                <!-- <div class="col-md-7" *ngIf="this.getServiceConfigCodes.includes('ITR') || this.getServiceConfigCodes.includes('DIGILOCKER')">
                                    <label> Does Case Exist ?</label>
                                    <label *ngFor="let item of getColors">
                                        <span class="colorId{{item.colorId}}">
                                            <input type="radio" name="criminalVerificationColorId" formControlName="criminalVerificationColorId" [value]="item.colorId">
                                            {{ item.colorName }}
                                        </span>
                                    </label>
                                </div> -->
                                <div class="col-md-5">
                                    <input type="file" class="form-control" (change)="uploadCaseDetails($event)" accept=".pdf" id="" required multiple>                       
                                </div>
                                <!-- <div *ngIf="fileNames.length > 0">
                                    <h5>Selected Files:</h5>
                                    <ul>
                                      <li *ngFor="let fileName of fileNames">{{ fileName }}</li>
                                    </ul>
                                  </div> -->

                                  <div *ngIf="files.length > 0" style="width: -webkit-fill-available">
                                    <h5 class="text-center mt-3">Selected Files:</h5>
                                    <ul class="list-group" id="fileList">
                                        <li *ngFor="let file of files; let i = index" 
                                        class="list-group-item d-flex justify-content-between align-items-center w-100"
                                            draggable="true" 
                                            (dragstart)="onDragStart($event, i)" 
                                            (dragover)="onDragOver($event)" 
                                            (drop)="onDrop($event, i)" 
                                            (dragend)="onDragEnd($event)">
                                          <!-- Drag Button -->
                                          {{ file.name }}
                                          
                                    <div class="d-flex align-items-center">   
                                        <button 
                                            class="btn btn-secondary btn-sm" 
                                            (mousedown)="$event.stopPropagation()" 
                                            (dragstart)="onDragStart($event, i)">
                                            ☰
                                        </button>

                                        <button 
                                          class="btn btn-danger btn-sm me-2" 
                                          (click)="deleteFile(i)">
                                          <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </div>
                                        </li>
                                      </ul>
                                  
                                    <!-- Sort Button -->
                                    <!-- <button (click)="sortFiles()" class="btn btn-primary mt-2">Sort Files</button> -->
                                  </div>
                                  
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6" *ngIf="this.getServiceConfigCodes.includes('GLOBAL')" style="padding-left: 8px;">
                    <div class="card shadow mb-4">
                        <!-- Card Header -->
                        <div
                            class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold text-primary">
                                Upload Global Database Case Details
                            </h6>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                            <div class="row">
                                <!-- <div class="col-md-7">
                                    <label> Does Case Exist ?</label>
                                    <label *ngFor="let item of getColors">
                                        <span class="colorId{{item.colorId}}">
                                            <input type="radio" name="globalDatabseCaseDetailsColorId" formControlName="globalDatabseCaseDetailsColorId" [value]="item.colorId">
                                            {{ item.colorName }}
                                        </span>
                                    </label>
                                </div> -->
                                <div class="col-md-5">
                                    <input type="file" class="form-control" (change)="uploadGlobalCaseDetails($event)" accept=".pdf">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12 mt-4 mb-4 text-center">
                <button *ngIf="this.getServiceConfigCodes.includes('GST') && !gstFound" type="button" (click)="openFetchGSTModal(modalFetchGST)" class="btn btn-primary">Fetch GST</button>
                <button type="button" (click)="openAddcommentModal(modalAddcomments)" class="btn btn-primary">Add Comments</button>
                <button *ngIf="this.getServiceConfigCodes.includes('EPFO')" type="button" (click)="enteruan()" class="btn btn-primary">Enter UAN</button>
                <button type="button" (click)="initiatevendor()" class="btn btn-primary">Initiate vendor checks</button>
                <button type="button"  (click)="submitReportApproval(formReportApproval, 'INTERIMREPORT')" class="btn btn-primary">Generate Interim Report</button>
                <button *ngIf="reportStatus==='GREEN' && this.orgName === 'Infosys Limited'" type="button"  (click)="submitSecondReportApproval(formReportApproval, 'INTERIMREPORT')" class="btn btn-primary">Generate Interim Report Without Form26</button>
                <button type="button"  [disabled]="isCommentAdded"  (click)="submitReportApproval(formReportApproval, 'FINALREPORT')" class="btn btn-primary">Approve Report</button>
                <!-- <button type="button" [disabled]="isCommentAdded"  (click)="submitReportApproval(formReportApproval, 'FINALREPORT')" class="btn btn-primary">Approve Report</button> -->
            </div>
        </div>
    </div>
    </form>

</div>

<ng-template #modalCertificate let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">View Certificate</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <iframe id="viewcandidateCertificate" style="width: 100%;height: 600px;"></iframe>
            </div>
        </div>
    </div>
  </ng-template>


<ng-template #modalEducation let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Educational Verification</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body" >
        <form [formGroup]="formEditEdu" (ngSubmit)="submitEditEdu(formEditEdu)">
            <input type="hidden"  formControlName="id">
            <div class="row " >
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="" class="">Degree</label>
                        <select class="form-control form-control-sm" formControlName="qualificationId">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of QualificationList" [value]="item.qualificationId">{{ item.qualificationName }}</option>
                        </select>

                        </div>
                </div>
        <div class="col-md-12">
            <div class="form-group">
                <label for="" class="">Collage</label>
                <input type="text" class="form-control form-control-sm" formControlName="schoolOrCollegeName">
            </div>
        </div>

                <div class="col-md-6">
                    <div class="form-group">
                        <label for="" class="">University/Board</label>
                        <input type="text"   formControlName="boardOrUniversityName"
                            class="form-control form-control-sm">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="" class="">Year of Passing</label>
                        <input type="text"  formControlName="yearOfPassing"
                            class="form-control form-control-sm">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="" class="">% or CGPA</label>
                        <input type="text" formControlName="percentage"
                            class="form-control form-control-sm">
                    </div>
                </div>
                <div class="col-md-8 offset-2">
                    <div class="form-group">
                        <label for="" class="required">Status</label>
                        <select class="form-control form-control-sm" formControlName="colorId">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getColors" [value]="item.colorId">{{ item.colorName }}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-8 offset-2">
                    <div class="form-group">
                        <label for="" class="required">Remarks</label>
                        <!-- <select class="form-control form-control-sm" formControlName="remarkId">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getEducationRemarkType" [value]="item.remarkId" >{{ item.description }}</option>
                        </select> -->
                        <textarea type="text" class="form-control form-control-sm" formControlName="customRemark"> </textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit" [disabled]="!formEditEdu.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #modalVendor let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Vendor proofs Status</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <!-- <form > -->
            <form [formGroup]="formEditDOC" (ngSubmit)="submitEditDOC()">
            <input type="hidden"  formControlName="id">
            <div class="row " >

                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Result</label>
                        <select class="form-control form-control-sm" formControlName="colorId">
                            <!-- <option [ngValue]="null" disabled>{{ item.colorColorName }}</option> -->
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getColors" [value]="item.colorId" >{{ item.colorName }}</option>
                        </select>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #modalOrgScope let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Organization Scope Status</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <!-- <form > -->
            <form [formGroup]="formEditScope" (ngSubmit)="submitEditScope()">
            <input type="hidden"  formControlName="id">

            <div class="col-md-8 offset-2" *ngIf="!scopeValidation">
                    <div class="form-group">
                        <label for="" class="required">Result</label>
                        <select class="form-control form-control-sm" formControlName="colorId">
                            <!-- <option [ngValue]="null" disabled>{{ item.colorColorName }}</option> -->
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option [value]="10"></option>
                            <option *ngFor="let item of getColors" [value]="item.colorId" >{{ item.colorName }}</option>
                        </select>
                    </div>
            </div>

            <div class="col-md-8 offset-2">
                <div class="form-group">
                    <label for="" class="required">Remarks</label>
                    <textarea type="text" style="white-space: pre-wrap;" class="form-control form-control-sm" formControlName="customRemark"> </textarea>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #qcremarks let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Qc Remarks</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- <form > -->
    <form [formGroup]="formEditScope" (ngSubmit)="addUpdateRemark()">
      <input type="hidden" formControlName="colorId">

      <div class="col-md-8 offset-2">
        <div class="form-group">
          <label for="" class="required"> {{ isUpdateMode ? 'Update Remarks' : 'Add Remarks' }}</label>
          <textarea type="text" style="white-space: pre-wrap;" class="form-control form-control-sm"
                    formControlName="customRemark"> </textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 text-center mt-3 pb-3">
          <button type="submit" class="btn btn-primary btn-sm">Submit</button>
          <button type="button" class="btn btn-danger btn-sm"
                  (click)="modal.close('Save click')">Close</button>
        </div>
      </div>
    </form>
  </div>
</ng-template>



<ng-template #modalExperience let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Experience Status</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="formEditEXP" (ngSubmit)="submitEditEXP()">
            <input type="hidden"  formControlName="id">
            <div class="row " >
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Company Name</label>
                        <input type="text" formControlName="candidateEmployerName" >
                        <!-- value="item1.candidateEmployerName"> -->
                        <button (click)="suspectEmpCheck()" type="button" style="padding: 0rem !important;" class="btn btn-primary btn-sm">Suspect employer check</button>
                        <button (click)="undisclosedClick()" *ngIf="!undisclosedbtn" type="button" style="padding: 0rem !important;width: 75px !important;background-color: #ff9900 !important;" class="btn btn-primary btn-sm">undisclosed</button>
                        <button (click)="undisclosedClick()" *ngIf="undisclosedbtn" type="button" style="padding: 0rem !important;width: 75px !important;background-color: #10c315 !important;" class="btn btn-primary btn-sm">disclosed</button>
                    </div>
                </div>
                <div class="col-md-10">
                     <div class="form-group">
                        <label for="" class="required">DOJ</label>
                        <div class="input-group">
                            <input type="date" formControlName="inputDateOfJoining" (click)="fetchjoinDateSelected()">
                         </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">DOE</label>
                        <div class="input-group">
                            <input type="date" formControlName="inputDateOfExit"(click)="fetchexitDateSelected()">
                        </div>
                    </div>
                </div>
                <!-- below field enable when outPutDOEEnabled flag will enable-->
                <div class="col-md-10" *ngIf="outPutDOEEnabled">
                    <div class="form-group">
                        <label>OutPut DOE</label>
                        <div class="input-group">
                            <input type="date" formControlName="outputDateOfExit"(click)="fetchexitDateSelected()">
                        </div>
                    </div>
                </div>
                <div class="col-md-10" *ngIf="outPutDOEEnabled">
                    <div class="form-group">
                        <label>Proof Name for OutputDOE </label>
                        <select class="form-control form-control-sm" formControlName="outputDateOfExitProofName">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option value="Remittance">Remittance</option>
                            <option value="Reliving letter">Reliving letter</option>
                        </select>

                    </div>
                </div>

                <!-- OVER -->
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Result</label>
                        <select class="form-control form-control-sm" formControlName="colorId">
                            <!-- <option [ngValue]="null" disabled>{{ item.colorColorName }}</option> -->
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getAllColor" [value]="item.colorId" >{{ item.colorName }}</option>
                        </select>
                        <label *ngIf="suspectEmpCheckResponse" style="font-size: 10px !important; font-weight: 500 !important;" for="" >{{suspectEmpCheckResponse}}</label>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Remarks</label>
                        <!-- <select class="form-control form-control-sm" formControlName="remarkId"> -->
                            <!-- <option [ngValue]="null" disabled>{{ item.remarkMasterDescription == null?'Not Available' : item.remarkMasterDescription}}</option> -->
                            <!-- <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getEmploymentRemarkType" [value]="item.remarkId" >{{ item.description }}</option>
                        </select> -->
                        <textarea type="text" class="form-control form-control-sm" formControlName="customRemark"> </textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  [disabled]="!formEditEXP.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #modalAddress let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Edit Address</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="formEditADRS" (ngSubmit)="submitEditADRS()">
            <input type="hidden"  formControlName="id">
            <div class="row ">
                <div class="col-md-8 offset-2">
                    <div class="form-group">
                        <label for="" class="">Communication</label>
                        <input type="checkbox" formControlName="isAssetDeliveryAddress" (change)="roleCboxes($event)"/>
                        <i class="fas customColors customIcon customIcon"></i>
                    </div>
                </div>
                    <div class="col-md-8 offset-2">
                        <div class="form-group">
                            <label for="" class="">Present</label>
                            <input type="checkbox" formControlName="isPermanentAddress" >
                        </div>
                    </div>
                        <div class="col-md-8 offset-2">
                            <div class="form-group">
                                <label for="" class="">Permanent</label>
                                <input type="checkbox" formControlName="isPresentAddress" >
                            </div>
                        </div>
                <div class="col-md-8 offset-2">
                    <div class="form-group">
                        <label for="" class="required">Status</label>
                        <select class="form-control form-control-sm" formControlName="colorId">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getColors" [value]="item.colorId"><div style="color: #fff;">{{ item.colorName }}</div></option>
                        </select>
                    </div>
                </div>
                <div class="col-md-8 offset-2">
                    <div class="form-group">
                        <label for="" class="required">Remarks</label>
                        <!-- <select class="form-control form-control-sm" formControlName="remarkId">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getAddressRemarkType" [value]="item.remarkId" >{{ item.description }}</option>
                        </select> -->
                        <textarea type="text" class="form-control form-control-sm" formControlName="customRemark"> </textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
  </ng-template>

  <ng-template #modalResume let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">View Resume</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <iframe id="viewcandidateResume" style="width: 100%;height: 600px;"></iframe>
            </div>
        </div>
    </div>
  </ng-template>

  <ng-template #modalLandlordAgreement let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">View Landlord Agreement</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <iframe id="viewLandlordAgreement" style="width: 100%;height: 600px;"></iframe>
            </div>
        </div>
    </div>
  </ng-template>

  <ng-template #modalEmployment let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Add Employme</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <form>
            <!-- <input type="hidden" formControlName="organizationId">
            <input type="hidden" formControlName="userId"> -->
            <div class="row ">
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="" class="required">Employee ID</label>
                        <input type="text" class="form-control form-control-sm">
                    </div>
                </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="" class="required">Degree</label>
                                <input type="text"
                                    class="form-control form-control-sm">
                            </div>
                        </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="" class="required">Collage</label>
                        <input type="text" class="form-control form-control-sm">
                    </div>
                </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="" class="required">University/Board</label>
                                <input type="text"
                                    class="form-control form-control-sm">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="" class="">% or CGPA</label>
                                <input type="text"
                                    class="form-control form-control-sm">
                            </div>
                        </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="" class="required">Status</label>
                        <input type="text" class="form-control form-control-sm" >
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="" class="required">Remarks</label>
                        <!-- <select class="form-control">
                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getOrgroles" [value]="item.roleId">{{ item.roleName }}</option>
                        </select> -->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  class="btn btn-primary btn-sm" >Submit</button>
                    <button type="button" class="btn btn-danger btn-sm">Close</button>
                </div>
            </div>
        </form>
    </div>
  </ng-template>
  <ng-template #modalAddcomments let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">AddComments Status</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body" >
        <form [formGroup]="formAddcomment" (ngSubmit)="submitAddcomment(formAddcomment)">
            <input type="hidden"  formControlName="id">
            <div class="row " >


                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="" class="col-md-12">Comments:
                            </label>
                            <div class="col-md-50">
                                <textarea
                                    formControlName="addComments" style="font-family:sans-serif;font-size:2.1em;" >
                                </textarea>
                            </div>
                        </div>
                    </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit" [disabled]="!formAddcomment.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>
<ng-template #modalFetchGST let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Fech GST</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body" >
        <form [formGroup]="formFetchGST" (ngSubmit)="submitFetchGST(formFetchGST)">
            <input type="hidden"  formControlName="id">
            <div class="row " >


                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="" class="col-md-12">Pan:
                            </label>
                            <div class="col-md-50">
                                <input type="text"
                                    formControlName="panNumber" style="font-family:sans-serif;font-size:2.1em;" >

                            </div>
                        </div>
                    </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #modalReportStatus let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Report Status</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <!-- <div class="modal-body">
        <label for="status">Status:</label>
        <select id="status" name="status" [(ngModel)]="selectedStatus">
            <option [ngValue]="null" disabled>--Select--</option>
            <option *ngFor="let item of getAllColor" [value]="item.colorId" >{{ item.colorName }}</option>
        </select>
    </div> -->
    <div class="modal-body">
        <form [formGroup]="formEditReportStatus" (ngSubmit)="submitEditReportStatus()">
            <div class="row " >
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Result</label>
                        <select class="form-control form-control-sm" formControlName="colorId">

                            <option [ngValue]="null">NA</option>
                            <option *ngFor="let item of getAllColor" [value]="item.colorId" >{{ item.colorName }}</option>
                        </select>

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  [disabled]="!formEditReportStatus.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
</div>

</ng-template>

<ng-template #modalEmploymentResult let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Employment Result</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="formEditEmploymentResult" (ngSubmit)="submitEditEmploymentResult()">
            <div class="row " >
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Result</label>
                        <select class="form-control form-control-sm" formControlName="colorId">

                            <option [ngValue]="null" disabled>--Select--</option>
                            <option *ngFor="let item of getAllColor" [value]="item.colorId" >{{ item.colorName }}</option>
                        </select>

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  [disabled]="!formEditEmploymentResult.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>

        </form>
    </div>

</ng-template>
<ng-template #modalRemittance let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Fetch Remittance</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="formRemittance" (ngSubmit)="submitRemittance()">
            <input type="hidden"  formControlName="memberId">
            <div class="row " >
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Name</label>
                        <input type="text" formControlName="name" >
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <label for="" class="required">Company Name</label>
                        <input type="text" formControlName="company" >
                    </div>
                </div>
                <div class="col-md-10">
                     <div class="form-group">
                        <label for="" class="required">Remittance Dates</label>
                        <div class="input-group">
                            <input type="text" formControlName="remittanceDates">
                         </div>
                         <div>
                            <p>NOTE: Please insert comma separated dates to fetch records in MMM-YYYY format, eg: Nov-2023, Dec-2023</p>
                        </div>
                    </div>
                </div>

                <div *ngIf="remittanceCaptchaEnabled" class="col-md-10">
                    <div class="form-group">
                        <!-- <label for="" class="required">Image</label> -->
                        <img *ngIf="remittanceCaptchaImage" [src]="remittanceCaptchaImage" alt="Image">
                        <div class="input-group">
                            <input type="text" formControlName="remittanceCaptchaText">
                         </div>
                         <div>
                            <p>Plese enter the above Captcha text</p>
                        </div>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-md-12 text-center mt-3 pb-3">
                    <button type="submit"  [disabled]="!formRemittance.valid" class="btn btn-primary btn-sm">Submit</button>
                    <button type="button" class="btn btn-danger btn-sm" (click)="modal.close('Save click')">Close</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>



<ng-template #modalCandidate let-modal>

    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Update</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="vendorlist">
        <div class="form-group">
          <!-- <div class="col-md-7">
                          <label> Does Source Exist ?</label>
                          <label *ngFor="let item of getColors">
                              <span class="colorId{{item.colorId}}">
                                  <input type="radio" name="sourceVerificationColorId" (change)="getcolor($event)" [value]="item.colorId">
                                  {{ item.colorName }}
                              </span>
                          </label>
                      </div> -->
          <div class="col-md-12">
            <div class="form-group">
              <label for="" class="">Document Name</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="documentname"
              />
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-md-8">
              <input
                type="file"
                class="form-control-file form-control"
                (change)="uploadGlobalCaseDetails2($event)"
                accept=".pdf, image/*"
              />
            </div>
            <div id="preview-container" class="col-md-2">
              <button id="preview-button" class="btn btn-primary" disabled>Preview</button>
            </div>
          </div> -->
        </div>

        <div class="col-md-12" *ngIf="idItemsCheckType">
            <div class="form-group">
              <label for="" class="">{{idItemsPanORAadharORPassport}}</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [formControlName]="'nameAsPerProof'"
              />
            </div>
          </div>

          <div class="col-md-12" *ngIf="idItemsCheckType">
            <div class="form-group">
              <label for="" class="">{{idItemsProofName}}</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [formControlName]="'proofName'"
              />
            </div>
          </div>

          <div class="col-md-12" *ngIf="idItemsCheckType">
            <div class="form-group">
              <label for="" class="">{{idItemsDateOfBirth}}</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [formControlName]="'dateOfBirth'"
              />
            </div>
          </div>

          <div class="col-md-12" *ngIf="idItemsCheckType">
            <div class="form-group">
              <label for="" class="">{{idItemsFatherName}}</label>
              <input
                type="text"
                class="form-control form-control-sm"
                [formControlName]="'fatherName'"
              />
            </div>
          </div>

          <div *ngIf="!globaldataBaseCheck && !idItemsCheckType">

            <div *ngFor="let attribute of venderAttributeValue" class="col-md-12">
            <div class="form-group">
                <label for="" class="required">{{ attribute.label }}</label>

                <input
                type="text"
                formControlName="value"
                [(ngModel)]="attribute.value"
                class="form-control form-control-sm"
                />
                <!-- <span *ngIf="attribute.value === null" style="color: red;">{{showMessage}}</span> -->
                <p *ngIf="isFieldEmpty(attribute)" class="text-danger">{{showMessage}}</p>
            </div>
            </div>
         </div>

        <div class="col-md-12">
            <div class="form-group">
              <label for="" class="">Remarks</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="remarks"
                value=""
              />
            </div>
          </div>

        <div class="col-md-12">
          <div class="form-group">
            <label for="" class="required">Vendor Checks Status</label>
            <input type="text" value="{{ checkStatus }}" class="form-control" readonly />
            <select
              class="form-control"
              formControlName="vendorCheckStatusMasterId"
              required
            >
              <!-- <option [ngValue]="null" disabled>--Select--</option> -->
              <option
                *ngFor="let item of getVenorcheckStatus"
                (change)="getvendorcheckstatuss($event)"
                [value]="item.vendorCheckStatusMasterId"
              >
                <div>{{ item.checkStatusName }}</div>
              </option>
            </select>
          </div>
        </div>

        <div class="col-md-12" *ngIf="drugCheck">
            <div class="form-group">
              <label for="" class="required">Drug Test Panel</label>
              <select class="form-control form-control-sm"
                formControlName="type" (change)="onPanelChange($event)">
                <!-- <option value="null">--Select--</option> -->
                <option value="Panel 5">Panel 5</option>
                <option value="Panel 6">Panel 6</option>
                <option value="Panel 7">Panel 7</option>
                <option value="Panel 8">Panel 8</option>
                <option value="Panel 9">Panel 9</option>
                <option value="Panel 10">Panel 10</option>
                <option value="Panel 11">Panel 11</option>
                <option value="Panel 12">Panel 12</option>
              </select>
            </div>
          </div>

          <!-- Drug Check -->
          <div class="col-md-12" *ngIf="selectedLabels">
            <div class="form-group" *ngFor="let label of selectedLabels; let i=index">
              <label for="">{{ label.label }}</label>
              <input type="text" class="form-control" name="{{ label.label }}" [value]="label.value" (input)="updateLabelValue($event, label)" required>
            </div>
          </div>
        <!-- Drug Check END -->

           <!-- CRIMINAL START HERE -->

           <ng-template [ngIf]="isVendorAttributeForm && selectedStatus !== '3' && globaldataBaseCheck===false">
            <!-- Legal Proceedings Form -->
            <div formGroupName="legalProcedings" style="width: -webkit-fill-available;">
                <!-- Civil Proceedings -->
                <div formArrayName="civilProceedingsList">
                    <div *ngFor="let civil of civilProceedingsList; let i = index" [formGroupName]="i">
                  <!-- Your civil proceeding form controls go here -->
                  <div class="container my-4">
                    <div class="row">
                      <div class="col-md-12 text-center">
                        <b class="font-weight-bold text-primary">Civil Proceedings - <span> {{ i === 0 ? 'High Court' :
                            i === 1 ? 'Civil Court' : '' }}</span></b>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 mx-auto">
                        <div class="form-group">
                          <label>Date of Search</label>
                          <input type="date" class="form-control form-control-sm" formControlName="dateOfSearch">
                        </div>
                      </div>
                      <!-- <div class="col-md-6 mx-auto"> -->
                      <!-- <div class="form-group"> -->
                      <!-- <label>Court</label> -->
                      <!-- <select class="form-control form-control-sm" formControlName="court">
                <option value="">- Select Court-</option>
                <option value="Civil Court">Civil Court</option>
                <option value="High Court">High Court</option>

              </select> -->
                      <!-- </div> -->
                      <!-- </div> -->
                      <!-- <div class="col-md-6 mx-auto"> -->
                      <!-- <div class="form-group"> -->
                      <!-- <label>Jurisdiction</label> -->
                      <input type="hidden" class="form-control form-control-sm" formControlName="court">

                      <input type="hidden" class="form-control form-control-sm" formControlName="jurisdiction">
                      <!-- </div> -->
                      <!-- </div> -->
                      <!-- <div class="col-md-6 mx-auto"> -->
                      <!-- <div class="form-group"> -->
                      <!-- <label>Name of the Court</label> -->
                      <input type="hidden" class="form-control form-control-sm" formControlName="nameOfTheCourt">
                      <!-- </div> -->
                      <!-- </div> -->
                      <div class="col-md-6 mx-auto">
                        <div class="form-group">
                          <label>Result</label>
                          <input type="text" class="form-control form-control-sm" formControlName="result">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Add button to add new civil proceeding -->
              <!-- <button type="button" (click)="addCivilProceeding()" [disabled]="civilProceedingsCount >= 2" >Add Civil Proceeding</button> -->

              <div formArrayName="criminalProceedingsList">
                <div *ngFor="let civil of criminalProceedingsList; let i = index" [formGroupName]="i">

                  <div class="container my-4">
                    <div class="row">
                      <div class="col-md-12 text-center">
                        <b class="font-weight-bold text-primary">Criminal Proceedings - <span>{{ i === 0 ? 'Session
                            Court' : i === 1 ? 'Magistrate Court' : '' }}</span></b>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 mx-auto">
                        <div class="form-group">
                          <label>Date of Search</label>
                          <input type="date" class="form-control form-control-sm" formControlName="dateOfSearch">
                        </div>
                      </div>
                      <input type="hidden" class="form-control form-control-sm" formControlName="court">
                      <input type="hidden" class="form-control form-control-sm" formControlName="jurisdiction">

                      <input type="hidden" class="form-control form-control-sm" formControlName="nameOfTheCourt">

                      <div class="col-md-6 mx-auto">
                        <div class="form-group">
                          <label>Result</label>
                          <input type="text" class="form-control form-control-sm" formControlName="result">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- end -->
              </div>
            </div>
            <!-- Legal Proceedings Form ends-->
          </ng-template>

          <!-- END OF CRIMINAL -->



        <div class="container my-4">
            <div *ngIf="globaldataBaseCheck && selectedStatus !== '3'">
              <!--            <div class="tab-container">-->
              <!--              &lt;!&ndash; Global Tab &ndash;&gt;-->
              <!--              <div class="tab" (click)="selectTab('global')" [class.active]="selectedTab === 'global'">-->
              <!--                Global-->
              <!--              </div>-->
              <!--              &lt;!&ndash; Indian Tab &ndash;&gt;-->
              <!--              <div class="tab" (click)="selectTab('indian')" [class.active]="selectedTab === 'indian'">-->
              <!--                Indian-->
              <!--              </div>-->
              <!--            </div>-->
              <!--            <ng-container *ngIf="selectedTab === 'global'">-->
              <!-- <div class="row"> -->
                <!--              <div class="tab" (click)="selectTab('global')" [class.active]="selectedTab === 'global'">&ndash;&gt;-->
                <div class="row">
                  <div class="col-md-12 text-center">
                    <b class="font-weight-bold text-primary">India Level Database Search</b>
                  </div>
                </div>
                <div class="row my-4">
                  <div class="col-md-8  mx-auto">
                    <select class="form-control form-control-sm" #seleGlobalattr>
                      <option *ngFor="let attribute of globalAttributeValue" [value]="attribute.label"
                              [disabled]="isOptionSelectedGlobal(attribute.label)">
                        {{ attribute.label }}
                      </option>
                    </select>
                  </div>
                  <div class="col-md-4 mx-auto">
                    <button [disabled]="this.disableGlobalOptionButton" class="btn btn-primary btn-sm"
                            (click)="addSelectedGlobalAttribute(seleGlobalattr.value)">Add Indian Attribute
                    </button>
                  </div>
                </div>

            <div *ngIf="showGlobalCheck">
                <div *ngFor="let attribute of selectedGlobalAttributeValue; let i = index;">
                  <div class="row">
                    <div class="col-md-6 mx-auto">
                      <div class="form-group">
                        <label class="required">{{ attribute.label }}</label>
                      </div>
                    </div>
                    <div class="col-md-6 mx-auto">
                      <input type="text" #gloval
                             class="form-control form-control-sm" [(ngModel)]="attribute.value"
                             (keyup)="onKeyUpGlobal(gloval.value, attribute.label)">
                    </div>
                  </div>
                </div>
            </div>
                <!-- <div class="row" *ngIf="selectedGlobalAttributeValue.length > 0">
                    <div class="col-md-6 mx-auto">
                      <div class="form-group">
                        <label class="required">{{ selectedGlobalAttributeValue[0].label }}</label>
                      </div>
                    </div>
                    <div class="col-md-6 mx-auto">
                      <input type="text" #gloval class="form-control form-control-sm" [(ngModel)]="selectedGlobalAttributeValue[0].value" (keyup)="onKeyUpGlobal(gloval.value, selectedGlobalAttributeValue[0].label)">
                    </div>
                  </div> -->

                  <!-- <div class="row" *ngFor="let attribute of selectedGlobalAttributeValue; let i = index;">
                    <div class="col-md-6 mx-auto">
                      <div class="form-group">
                        <label class="required">{{ attribute.label }}</label>
                      </div>
                    </div>
                    <div class="col-md-6 mx-auto">
                      <input type="text" #gloval class="form-control form-control-sm" [(ngModel)]="selectedGlobalAttributeValue[i].value" (keyup)="onKeyUpGlobal(gloval.value, attribute.label)">
                    </div>
                  </div> -->

                <!--            </ng-container>-->
                <!--            <ng-container *ngIf="selectedTab === 'indian'">-->

                <!--              <div class="tab" (click)="selectTab('indian')" [class.active]="selectedTab === 'indian'">-->
                <div class="row my-4">
                  <div class="col-md-12 text-center">
                    <b class="font-weight-bold text-primary">Global Level Database Search</b>
                  </div>
                </div>
                <div class="row my-4">
                  <div class="col-md-8  mx-auto">
                    <select class="form-control form-control-sm" #seleattrIndian>
                      <option *ngFor="let attribute of indiaAttributeValue" [value]="attribute.label"
                              [disabled]="isOptionSelectedIndian(attribute.label)">
                        {{ attribute.label}}
                      </option>
                    </select>
                  </div>
                  <div class="col-md-4 mx-auto">
                    <button [disabled]="this.disableIndianOptionButton" class="btn btn-primary btn-sm"
                            (click)="addSelectedIndianAttribute(seleattrIndian.value)">Add Global Attribute
                    </button>
                  </div>
                </div>

                <div *ngIf="showGlobalCheck">
                  <div *ngFor="let attribute of selectedIndiaAttributeValue; let i = index;">
                    <div class="row">
                      <div class="col-md-6 mx-auto">
                        <div class="form-group">
                          <label class="required">{{ attribute.label }}</label>
                        </div>
                      </div>
                      <div class="col-md-6 mx-auto">
                        <input type="text" #indian
                               class="form-control form-control-sm" [(ngModel)]="attribute.value"
                               (keyup)="onKeyUpIndian(indian.value, attribute.label)">
                      </div>
                    </div>
                  </div>
                  </div>

                  <!-- <div class="row" *ngIf="selectedIndiaAttributeValue.length > 0">
                    <div class="col-md-6 mx-auto">
                      <div class="form-group">
                        <label class="required">{{ selectedIndiaAttributeValue[0].label }}</label>
                      </div>
                    </div>
                    <div class="col-md-6 mx-auto">
                      <input type="text" #indian class="form-control form-control-sm" [(ngModel)]="selectedIndiaAttributeValue[0].value" (keyup)="onKeyUpIndian(indian.value, selectedIndiaAttributeValue[0].label)">
                    </div>
                  </div> -->

                  <!-- <div class="row" *ngFor="let attribute of selectedIndiaAttributeValue; let i = index;">
                    <div class="col-md-6 mx-auto">
                      <div class="form-group">
                        <label class="required">{{ attribute.label }}</label>
                      </div>
                    </div>
                    <div class="col-md-6 mx-auto">
                      <input type="text" #indian class="form-control form-control-sm" [(ngModel)]="selectedIndiaAttributeValue[i].value" (keyup)="onKeyUpIndian(indian.value, attribute.label)">
                    </div>
                  </div> -->


              <!-- </div> -->
            <!--            </ng-container>-->
            </div>
          </div>



        <div class="row">
          <div class="col-md-12 text-center mt-3 pb-3">
            <button
              type="button"
              [disabled]="vendorlist.invalid"
              (click)="onSubmit(vendorlist)"
              class="btn btn-success btn-sm"
            >
              Submit
            </button>
            <button type="button" (click)="modal.dismiss('Cross click')" class="btn btn-danger btn-sm">Close</button>
          </div>
        </div>
      </form>
    </div>
  </ng-template>
